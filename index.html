<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‚ö° FootPack Editor</title>
<link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@400;700;900&family=Bebas+Neue&family=Orbitron:wght@500;700;900&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
:root{--ui-bg:#070D1A;--ui-panel:#0D1628;--ui-border:rgba(99,179,255,0.14);--ui-accent:#3B82F6;--ui-text:#CBD5E1;--ui-muted:#4A6080;--neon:#00F0FF;--neon2:#0099FF;}
html,body{height:100%;}
body{background:var(--ui-bg);color:var(--ui-text);font-family:'Inter',sans-serif;font-size:14px;display:flex;flex-direction:column;min-height:100vh;}

/* TOP BAR */
.topbar{background:rgba(13,22,40,0.97);border-bottom:1px solid var(--ui-border);padding:0 14px;height:52px;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:100;backdrop-filter:blur(12px);gap:10px;}
.topbar-logo{font-family:'Orbitron',sans-serif;font-size:0.78rem;font-weight:900;color:var(--neon);letter-spacing:4px;text-shadow:0 0 16px rgba(0,240,255,0.4);white-space:nowrap;flex-shrink:0;}
.topbar-tabs{display:flex;gap:2px;background:rgba(0,0,0,0.3);border-radius:10px;padding:3px;overflow-x:auto;flex:1;}
.topbar-tabs::-webkit-scrollbar{display:none;}
.tab-btn{background:none;border:none;color:var(--ui-muted);font-family:'Orbitron',sans-serif;font-size:0.48rem;letter-spacing:1.5px;padding:5px 10px;border-radius:6px;cursor:pointer;transition:all 0.2s;text-transform:uppercase;white-space:nowrap;}
.tab-btn.active{background:var(--ui-accent);color:#fff;box-shadow:0 0 12px rgba(59,130,246,0.4);}
.btn-download{background:linear-gradient(135deg,var(--neon2),var(--neon));border:none;color:#020B18;font-family:'Orbitron',sans-serif;font-size:0.52rem;font-weight:700;letter-spacing:2px;padding:7px 16px;border-radius:8px;cursor:pointer;text-transform:uppercase;box-shadow:0 0 20px rgba(0,240,255,0.3);transition:all 0.2s;white-space:nowrap;flex-shrink:0;}
.btn-download:hover{transform:translateY(-1px);box-shadow:0 0 30px rgba(0,240,255,0.5);}
.btn-play{background:linear-gradient(135deg,#7C3AED,#A855F7);border:none;color:#fff;font-family:'Orbitron',sans-serif;font-size:0.52rem;font-weight:700;letter-spacing:2px;padding:7px 16px;border-radius:8px;cursor:pointer;text-transform:uppercase;box-shadow:0 0 20px rgba(168,85,247,0.4);transition:all 0.2s;white-space:nowrap;flex-shrink:0;}
.btn-play:hover{transform:translateY(-1px);box-shadow:0 0 30px rgba(168,85,247,0.6);}
.btn-play.recording{background:linear-gradient(135deg,#DC2626,#EF4444);box-shadow:0 0 20px rgba(239,68,68,0.5);animation:recpulse 1s infinite;}
@keyframes recpulse{0%,100%{box-shadow:0 0 20px rgba(239,68,68,0.5);}50%{box-shadow:0 0 35px rgba(239,68,68,0.9);}}

/* ‚îÄ‚îÄ ANIMATION OVERLAY ‚îÄ‚îÄ */
.anim-countdown{position:fixed;inset:0;z-index:9999;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(2,11,24,0.96);backdrop-filter:blur(12px);}
.anim-countdown-num{font-family:'Bebas Neue',sans-serif;font-size:9rem;line-height:1;color:#00F0FF;text-shadow:0 0 60px rgba(0,240,255,0.9),0 0 120px rgba(0,240,255,0.4);animation:countbig 1s cubic-bezier(.22,1,.36,1);}
@keyframes countbig{0%{transform:scale(2.5);opacity:0;}50%{opacity:1;}100%{transform:scale(1);opacity:1;}}
.anim-countdown-lbl{font-family:'Orbitron',sans-serif;font-size:0.55rem;letter-spacing:8px;color:rgba(0,240,255,0.5);margin-top:12px;text-transform:uppercase;}
.anim-hint{font-family:'Orbitron',sans-serif;font-size:0.46rem;letter-spacing:3px;color:rgba(255,255,255,0.3);margin-top:20px;}
.anim-hint-rec{display:inline-block;width:8px;height:8px;border-radius:50%;background:#EF4444;margin-right:6px;animation:recpulse2 1.2s infinite;vertical-align:middle;}
@keyframes recpulse2{0%,100%{opacity:1;transform:scale(1);}50%{opacity:0.3;transform:scale(0.7);}}

/* ‚îÄ‚îÄ CINEMATIC KEYFRAMES ‚îÄ‚îÄ */
/* Slow elegant fade up ‚Äî main workhorse */
@keyframes fadeUpSlow{
  0%{opacity:0;transform:translateY(40px);}
  100%{opacity:1;transform:translateY(0);}
}
/* Fade down from above */
@keyframes fadeDownSlow{
  0%{opacity:0;transform:translateY(-36px);}
  100%{opacity:1;transform:translateY(0);}
}
/* Slide in from left with blur */
@keyframes slideFromLeft{
  0%{opacity:0;transform:translateX(-60px);filter:blur(4px);}
  60%{filter:blur(0);}
  100%{opacity:1;transform:translateX(0);filter:blur(0);}
}
/* Slide in from right with blur */
@keyframes slideFromRight{
  0%{opacity:0;transform:translateX(60px);filter:blur(4px);}
  60%{filter:blur(0);}
  100%{opacity:1;transform:translateX(0);filter:blur(0);}
}
/* Score cinematic ‚Äî drops from sky, slight bounce */
@keyframes scoreDrop{
  0%{opacity:0;transform:translateY(-80px) scale(1.4);}
  55%{opacity:1;transform:translateY(8px) scale(0.96);}
  75%{transform:translateY(-4px) scale(1.02);}
  100%{opacity:1;transform:translateY(0) scale(1);}
}
/* Scale from center with soft glow burst */
@keyframes scaleReveal{
  0%{opacity:0;transform:scale(0.5);filter:blur(6px);}
  50%{filter:blur(0);}
  70%{transform:scale(1.04);}
  100%{opacity:1;transform:scale(1);filter:blur(0);}
}
/* Standings row ‚Äî left sweep, staggered */
@keyframes rowSweep{
  0%{opacity:0;transform:translateX(-80px);filter:blur(3px);}
  60%{filter:blur(0);}
  100%{opacity:1;transform:translateX(0);}
}
/* Card rises slowly */
@keyframes cardRise{
  0%{opacity:0;transform:translateY(50px) scale(0.94);}
  70%{transform:translateY(-4px) scale(1.01);}
  100%{opacity:1;transform:translateY(0) scale(1);}
}
/* Neon line wipe left‚Üíright */
@keyframes lineWipe{
  0%{transform:scaleX(0);transform-origin:left;opacity:0;}
  20%{opacity:1;}
  100%{transform:scaleX(1);transform-origin:left;opacity:1;}
}
/* Trophy entrance ‚Äî dramatic spin + scale */
@keyframes trophyEntrance{
  0%{opacity:0;transform:scale(0) rotate(-30deg);}
  50%{opacity:1;transform:scale(1.25) rotate(6deg);}
  70%{transform:scale(0.92) rotate(-3deg);}
  85%{transform:scale(1.05) rotate(1deg);}
  100%{opacity:1;transform:scale(1) rotate(0);}
}
/* Soft neon pulse (badge) */
@keyframes neonPulse{
  0%{opacity:0;filter:blur(8px);}
  40%{opacity:1;filter:blur(0);}
  60%{filter:blur(1px);}
  80%{filter:blur(0);}
  100%{opacity:1;filter:blur(0);}
}
/* Whole slide fade in from black */
@keyframes slideFadeIn{
  0%{opacity:0;}
  100%{opacity:1;}
}

/* ‚îÄ‚îÄ ANIMATION UTILITY CLASSES ‚îÄ‚îÄ */
.anim-fade-up   {animation:fadeUpSlow    1.0s cubic-bezier(.16,1,.3,1) both;}
.anim-fade-down {animation:fadeDownSlow  1.0s cubic-bezier(.16,1,.3,1) both;}
.anim-fade-left {animation:slideFromLeft 1.0s cubic-bezier(.16,1,.3,1) both;}
.anim-fade-right{animation:slideFromRight 1.0s cubic-bezier(.16,1,.3,1) both;}
.anim-scale-in  {animation:scaleReveal   1.1s cubic-bezier(.16,1,.3,1) both;}
.anim-score-pop {animation:scoreDrop     1.2s cubic-bezier(.16,1,.3,1) both;}
.anim-slide-row {animation:rowSweep      0.9s cubic-bezier(.16,1,.3,1) both;}
.anim-card-reveal{animation:cardRise     1.0s cubic-bezier(.16,1,.3,1) both;}
.anim-neon-flicker{animation:neonPulse   1.0s cubic-bezier(.16,1,.3,1) both;}
.anim-trophy    {animation:trophyEntrance 1.3s cubic-bezier(.16,1,.3,1) both;}
.anim-wipe      {animation:lineWipe      1.2s cubic-bezier(.16,1,.3,1) both;}
.anim-wipe-full {animation:lineWipe      1.2s cubic-bezier(.16,1,.3,1) both;}
.anim-slide-in  {animation:slideFadeIn   0.8s ease both;}

/* LAYOUT */
.main{display:flex;flex:1;overflow:hidden;}

/* SIDEBAR */
.sidebar{width:288px;flex-shrink:0;background:var(--ui-panel);border-right:1px solid var(--ui-border);overflow-y:auto;padding:14px 12px;display:flex;flex-direction:column;gap:4px;}
.sidebar::-webkit-scrollbar{width:3px;}.sidebar::-webkit-scrollbar-thumb{background:rgba(99,179,255,0.2);border-radius:2px;}
.section-label{font-family:'Orbitron',sans-serif;font-size:0.48rem;letter-spacing:4px;color:var(--neon);text-transform:uppercase;padding:10px 3px 4px;border-top:1px solid var(--ui-border);margin-top:4px;}
.section-label:first-of-type{border-top:none;margin-top:0;}
.field-row{display:flex;flex-direction:column;gap:3px;}
.field-row label{font-size:0.62rem;color:var(--ui-muted);letter-spacing:1px;text-transform:uppercase;padding-left:2px;}
.field-row input[type="text"],.field-row input[type="number"]{background:rgba(0,0,0,0.4);border:1px solid var(--ui-border);border-radius:7px;color:var(--ui-text);font-family:'Inter',sans-serif;font-size:0.8rem;padding:7px 10px;outline:none;transition:border-color 0.2s;width:100%;}
.field-row input:focus{border-color:var(--ui-accent);}
.two-col{display:grid;grid-template-columns:1fr 1fr;gap:6px;}
.score-row{display:grid;grid-template-columns:1fr 28px 1fr;align-items:end;gap:5px;}
.score-sep-lbl{text-align:center;font-family:'Bebas Neue',sans-serif;font-size:1.2rem;color:var(--ui-muted);line-height:1;padding-bottom:7px;}
.color-row{display:grid;grid-template-columns:1fr 1fr;gap:6px;}
.color-field{display:flex;flex-direction:column;gap:3px;}
.color-field label{font-size:0.6rem;color:var(--ui-muted);letter-spacing:1px;}
.color-field input[type="color"]{width:100%;height:34px;border:1px solid var(--ui-border);border-radius:7px;background:rgba(0,0,0,0.4);cursor:pointer;padding:3px;}
.format-toggle{display:grid;grid-template-columns:1fr 1fr;gap:6px;}
.fmt-btn{background:rgba(0,0,0,0.3);border:1px solid var(--ui-border);border-radius:8px;color:var(--ui-muted);font-family:'Orbitron',sans-serif;font-size:0.5rem;letter-spacing:2px;padding:8px 6px;cursor:pointer;text-align:center;transition:all 0.2s;text-transform:uppercase;}
.fmt-btn.active{background:rgba(59,130,246,0.15);border-color:var(--ui-accent);color:#fff;}
.fmt-btn .fmt-icon{font-size:1rem;display:block;margin-bottom:3px;}
.scorer-list{display:flex;flex-direction:column;gap:4px;}
.scorer-entry{display:grid;grid-template-columns:1fr 44px 44px 26px;gap:4px;align-items:center;}
.scorer-entry input{background:rgba(0,0,0,0.4);border:1px solid var(--ui-border);border-radius:6px;color:var(--ui-text);font-size:0.76rem;padding:5px 6px;outline:none;width:100%;}
.scorer-entry select{background:rgba(0,0,0,0.4);border:1px solid var(--ui-border);border-radius:6px;color:var(--ui-text);font-size:0.7rem;padding:5px 2px;outline:none;cursor:pointer;}
.btn-rm{background:rgba(255,51,85,0.1);border:1px solid rgba(255,51,85,0.25);border-radius:6px;color:#FF3355;font-size:0.9rem;cursor:pointer;height:28px;display:flex;align-items:center;justify-content:center;}
.btn-add{background:rgba(0,240,255,0.05);border:1px dashed rgba(0,240,255,0.2);border-radius:7px;color:var(--neon);font-family:'Orbitron',sans-serif;font-size:0.5rem;letter-spacing:2px;padding:7px;cursor:pointer;text-align:center;text-transform:uppercase;margin-top:2px;}
.motm-stats-grid-edit{display:grid;grid-template-columns:1fr 1fr 1fr;gap:4px;}
.motm-stat-edit{display:flex;flex-direction:column;gap:3px;}
.motm-stat-edit label{font-size:0.56rem;color:var(--ui-muted);letter-spacing:1px;}
.motm-stat-edit input{background:rgba(0,0,0,0.4);border:1px solid var(--ui-border);border-radius:6px;color:var(--ui-text);font-size:0.8rem;padding:5px 6px;outline:none;text-align:center;}
.rating-slider-wrap{display:flex;align-items:center;gap:10px;}
.rating-slider-wrap input[type="range"]{flex:1;accent-color:var(--neon);height:4px;}
.rating-val-lbl{font-family:'Bebas Neue',sans-serif;font-size:1.3rem;color:var(--neon);min-width:32px;text-align:right;}

/* BG MODE TOGGLE */
.bg-mode-toggle{display:grid;grid-template-columns:1fr 1fr;gap:5px;margin-bottom:4px;}
.bg-mode-btn{background:rgba(0,0,0,0.3);border:1px solid var(--ui-border);border-radius:7px;color:var(--ui-muted);font-family:'Orbitron',sans-serif;font-size:0.48rem;letter-spacing:2px;padding:7px;cursor:pointer;text-align:center;transition:all 0.2s;text-transform:uppercase;}
.bg-mode-btn.active{background:rgba(59,130,246,0.15);border-color:var(--ui-accent);color:#fff;}

/* IMAGE UPLOAD ZONE */
.img-upload-zone{border:2px dashed rgba(0,240,255,0.2);border-radius:10px;padding:16px;text-align:center;cursor:pointer;transition:all 0.2s;position:relative;overflow:hidden;}
.img-upload-zone:hover{border-color:rgba(0,240,255,0.5);background:rgba(0,240,255,0.04);}
.img-upload-zone input[type="file"]{position:absolute;inset:0;opacity:0;cursor:pointer;width:100%;}
.img-upload-zone .upload-icon{font-size:1.6rem;margin-bottom:4px;}
.img-upload-zone .upload-text{font-family:'Orbitron',sans-serif;font-size:0.5rem;letter-spacing:2px;color:var(--neon);text-transform:uppercase;}
.img-upload-zone .upload-sub{font-size:0.6rem;color:var(--ui-muted);margin-top:2px;}
.img-preview-thumb{width:100%;height:80px;object-fit:cover;border-radius:7px;border:1px solid var(--ui-border);margin-top:6px;display:none;}
.img-opacity-row{display:flex;align-items:center;gap:8px;margin-top:6px;}
.img-opacity-row label{font-size:0.6rem;color:var(--ui-muted);letter-spacing:1px;white-space:nowrap;}
.img-opacity-row input[type="range"]{flex:1;accent-color:var(--neon);}
.img-opacity-row .opval{font-family:'Bebas Neue',sans-serif;font-size:1rem;color:var(--neon);min-width:28px;text-align:right;}

/* MOTM PHOTO UPLOAD */
.motm-photo-zone{border:2px dashed rgba(0,240,255,0.2);border-radius:50%;width:80px;height:80px;cursor:pointer;transition:all 0.2s;position:relative;overflow:hidden;margin:0 auto;}
.motm-photo-zone:hover{border-color:rgba(0,240,255,0.5);}
.motm-photo-zone input[type="file"]{position:absolute;inset:0;opacity:0;cursor:pointer;width:100%;}
.motm-photo-zone .ph-icon{font-size:1.8rem;display:flex;align-items:center;justify-content:center;height:100%;}
.motm-photo-preview{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;display:none;border-radius:50%;}
.motm-photo-hint{font-size:0.58rem;color:var(--ui-muted);text-align:center;margin-top:6px;letter-spacing:1px;}

/* STARTING 6 EDITOR */
.s6-grid-edit{display:grid;grid-template-columns:1fr 1fr;gap:5px;}
.s6-player-edit{background:rgba(0,0,0,0.2);border:1px solid var(--ui-border);border-radius:7px;padding:7px;display:flex;flex-direction:column;gap:4px;position:relative;}
.s6-player-edit .s6-num-lbl{font-family:'Orbitron',sans-serif;font-size:0.44rem;letter-spacing:2px;color:var(--neon);}
.s6-player-edit input{background:rgba(0,0,0,0.4);border:1px solid var(--ui-border);border-radius:5px;color:var(--ui-text);font-size:0.74rem;padding:4px 7px;outline:none;width:100%;}
.s6-player-edit input:focus{border-color:var(--ui-accent);}
.s6-player-photo-btn{width:36px;height:36px;border-radius:50%;border:1px dashed rgba(0,240,255,0.3);cursor:pointer;position:relative;overflow:hidden;flex-shrink:0;display:flex;align-items:center;justify-content:center;font-size:1rem;background:rgba(0,240,255,0.04);}
.s6-player-photo-btn input{position:absolute;inset:0;opacity:0;cursor:pointer;width:100%;}
.s6-player-photo-btn img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;border-radius:50%;display:none;}
.s6-player-top{display:flex;align-items:center;gap:6px;}

/* CANVAS */
.canvas-area{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:24px 16px;overflow-y:auto;background:radial-gradient(ellipse 60% 40% at 50% 10%,rgba(0,80,200,0.06) 0%,transparent 60%),repeating-linear-gradient(0deg,transparent,transparent 40px,rgba(255,255,255,0.01) 40px,rgba(255,255,255,0.01) 41px),repeating-linear-gradient(90deg,transparent,transparent 40px,rgba(255,255,255,0.01) 40px,rgba(255,255,255,0.01) 41px);}
.preview-wrapper{display:flex;flex-direction:column;align-items:center;gap:10px;}
.preview-label{font-family:'Orbitron',sans-serif;font-size:0.5rem;letter-spacing:4px;color:var(--neon);text-transform:uppercase;border:1px solid var(--ui-border);padding:4px 14px;border-radius:20px;}
#preview-frame{position:relative;overflow:hidden;transition:width 0.35s cubic-bezier(.4,0,.2,1),height 0.35s cubic-bezier(.4,0,.2,1),border-radius 0.35s;box-shadow:0 0 0 1px rgba(0,240,255,0.15),0 0 50px rgba(0,100,255,0.15);}
#preview-frame.story-format{width:340px;height:604px;border-radius:18px;}
#preview-frame.post-format{width:480px;height:480px;border-radius:14px;}

/* ‚îÄ‚îÄ SHARED FRAME LAYERS ‚îÄ‚îÄ */
.pf-bg{position:absolute;inset:0;transition:background 0.4s;}
.pf-bg-img{position:absolute;inset:0;background-size:cover;background-position:center;transition:opacity 0.4s;}
.pf-overlay{position:absolute;inset:0;pointer-events:none;}
.pf-noise{position:absolute;inset:0;opacity:0.04;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");background-size:200px;pointer-events:none;}
.pf-scanlines{position:absolute;inset:0;background:repeating-linear-gradient(0deg,transparent,transparent 3px,rgba(0,240,255,0.008) 3px,rgba(0,240,255,0.008) 4px);pointer-events:none;}
.pf-corners .c{position:absolute;width:14px;height:14px;}
.pf-corners .c.tl{top:9px;left:9px;border-top:2px solid;border-left:2px solid;}
.pf-corners .c.tr{top:9px;right:9px;border-top:2px solid;border-right:2px solid;}
.pf-corners .c.bl{bottom:9px;left:9px;border-bottom:2px solid;border-left:2px solid;}
.pf-corners .c.br{bottom:9px;right:9px;border-bottom:2px solid;border-right:2px solid;}
.pf-watermark{position:absolute;bottom:11px;left:50%;transform:translateX(-50%);font-family:'Orbitron',sans-serif;font-size:0.46rem;letter-spacing:5px;color:rgba(255,255,255,0.15);white-space:nowrap;z-index:10;}
.slide-hidden{display:none!important;}

/* ‚îÄ‚îÄ RESULT ‚îÄ‚îÄ */
.slide-result{position:absolute;inset:0;z-index:2;display:flex;flex-direction:column;}
.res-top{display:flex;justify-content:space-between;align-items:flex-start;padding:18px 18px 0;z-index:2;position:relative;}
.res-tourn-name{font-family:'Orbitron',sans-serif;font-size:0.52rem;letter-spacing:3px;}
.res-round{font-size:0.58rem;color:rgba(255,255,255,0.42);letter-spacing:2px;margin-top:2px;}
.res-ft-pill{font-family:'Orbitron',sans-serif;font-size:0.54rem;font-weight:700;letter-spacing:2px;padding:5px 12px;border-radius:4px;}
.res-teams{display:flex;align-items:center;justify-content:center;padding:16px 8px 0;gap:2px;z-index:2;position:relative;}
.res-team-col{flex:1;display:flex;flex-direction:column;align-items:center;gap:7px;}
.res-team-name{font-family:'Bebas Neue',sans-serif;font-size:0.92rem;letter-spacing:3px;text-align:center;}
.res-team-city{font-size:0.56rem;letter-spacing:2px;text-align:center;color:rgba(255,255,255,0.36);margin-top:-6px;}
.res-score{font-family:'Bebas Neue',sans-serif;font-size:4.8rem;line-height:1;letter-spacing:-4px;flex-shrink:0;}
.res-divider{width:82%;height:1px;margin:12px auto 0;z-index:2;position:relative;}
.res-stats{display:flex;justify-content:space-around;padding:9px 18px 0;z-index:2;position:relative;}
.res-stat{text-align:center;}
.res-stat .rv{font-family:'Bebas Neue',sans-serif;font-size:1.35rem;line-height:1;}
.res-stat .rl{font-size:0.52rem;letter-spacing:2px;color:rgba(255,255,255,0.36);text-transform:uppercase;}
.res-scorers{padding:9px 16px 0;z-index:2;position:relative;border-top:1px solid rgba(255,255,255,0.06);margin:9px 16px 0;}
.res-scorers-title{font-family:'Orbitron',sans-serif;font-size:0.46rem;letter-spacing:4px;margin-bottom:6px;}
.res-goal-entry{display:flex;align-items:center;gap:6px;padding:4px 0;border-bottom:1px solid rgba(255,255,255,0.04);font-size:0.78rem;}
.res-goal-entry .gname{flex:1;font-weight:700;letter-spacing:1px;}
.res-goal-entry .gtag{font-size:0.54rem;padding:2px 6px;border-radius:3px;}
.res-goal-entry .gmin{font-size:0.62rem;color:rgba(255,255,255,0.36);min-width:24px;text-align:right;}

/* ‚îÄ‚îÄ STANDINGS ‚îÄ‚îÄ */
.slide-standings{position:absolute;inset:0;z-index:2;display:flex;flex-direction:column;}
.std-hdr-p{padding:18px 16px 0;display:flex;justify-content:space-between;align-items:flex-end;z-index:2;position:relative;}
.std-eyebrow-p{font-family:'Orbitron',sans-serif;font-size:0.52rem;letter-spacing:3px;}
.std-title-p{font-family:'Bebas Neue',sans-serif;font-size:2.1rem;letter-spacing:5px;line-height:1;}
.std-subtitle-p{font-size:0.58rem;color:rgba(255,255,255,0.36);letter-spacing:2px;margin-top:2px;}
.std-trophy{font-size:2.2rem;}
.std-col-head{display:grid;grid-template-columns:20px 1fr 24px 24px 24px 24px 32px;padding:11px 13px 7px;font-size:0.52rem;color:rgba(255,255,255,0.34);letter-spacing:2px;border-bottom:1px solid rgba(255,255,255,0.07);z-index:2;position:relative;}
.std-col-head>div{text-align:center;}
.std-col-head>div:nth-child(2){text-align:left;padding-left:5px;}
.std-rows-p{position:relative;padding:4px 13px 0;z-index:2;}
.std-row-p{display:grid;grid-template-columns:20px 1fr 24px 24px 24px 24px 32px;align-items:center;padding:15px 0;border-bottom:1px solid rgba(255,255,255,0.04);font-size:0.8rem;font-weight:600;position:relative;}
.std-row-p>div{text-align:center;}
.std-pos-p{font-family:'Bebas Neue',sans-serif;font-size:0.95rem;color:rgba(255,255,255,0.4);}
.std-name-p{text-align:left!important;padding-left:4px;font-family:'Barlow Condensed',sans-serif;font-weight:700;font-size:0.88rem;letter-spacing:1px;}
.std-col-p{color:rgba(255,255,255,0.4);font-size:0.76rem;}
.std-pts-p{font-family:'Bebas Neue',sans-serif;font-size:1rem;}
.std-zone-bar{position:absolute;left:-4px;top:0;bottom:0;width:3px;border-radius:2px;}
.std-legend-p{display:flex;gap:12px;padding:12px 13px 0;z-index:2;position:relative;}
.std-leg{display:flex;align-items:center;gap:5px;font-size:0.56rem;color:rgba(255,255,255,0.36);letter-spacing:1px;}
.std-leg .lb{width:9px;height:9px;border-radius:2px;}

/* ‚îÄ‚îÄ FIXTURES ‚îÄ‚îÄ */
.slide-fixtures{position:absolute;inset:0;z-index:2;display:flex;flex-direction:column;}
.fix-hdr{padding:18px 16px 0;z-index:2;position:relative;}
.fix-eyebrow-p{font-family:'Orbitron',sans-serif;font-size:0.52rem;letter-spacing:4px;display:flex;align-items:center;gap:8px;margin-bottom:2px;}
.fix-eyebrow-p::after{content:'';flex:1;height:1px;background:rgba(0,240,255,0.18);}
.fix-big-title{font-family:'Bebas Neue',sans-serif;font-size:2.5rem;letter-spacing:7px;line-height:1;}
.fix-subtitle-p{font-size:0.6rem;color:rgba(255,255,255,0.36);letter-spacing:2px;margin-top:2px;}
.fix-body-list{padding:9px 11px 0;display:flex;flex-direction:column;gap:7px;z-index:2;position:relative;flex:1;}
.fix-card-p{border-radius:9px;padding:10px 11px;display:flex;align-items:center;gap:8px;position:relative;overflow:hidden;}
.fix-date-col{display:flex;flex-direction:column;align-items:center;min-width:26px;}
.fix-date-col .fd{font-family:'Bebas Neue',sans-serif;font-size:1.2rem;line-height:1;}
.fix-date-col .fm{font-size:0.52rem;color:rgba(255,255,255,0.36);letter-spacing:1px;}
.fix-vsep{width:1px;height:26px;background:rgba(255,255,255,0.1);}
.fix-info{flex:1;}
.fix-matchup-lbl{font-family:'Bebas Neue',sans-serif;font-size:0.9rem;letter-spacing:2px;}
.fix-venue-lbl{font-size:0.56rem;color:rgba(255,255,255,0.34);letter-spacing:1px;margin-top:1px;}
.fix-time-lbl{font-family:'Orbitron',sans-serif;font-size:0.74rem;font-weight:700;letter-spacing:1px;}
.fix-live-badge{font-family:'Orbitron',sans-serif;font-size:0.38rem;font-weight:700;letter-spacing:2px;padding:2px 5px;border-radius:3px;margin-top:3px;text-align:center;animation:blink 1.3s infinite;}
@keyframes blink{0%,100%{opacity:1}50%{opacity:0.3}}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   TRANSFER WINDOW ‚Äî OFFICIAL TOURNAMENT STYLE
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
.slide-transfer{position:absolute;inset:0;z-index:2;display:flex;flex-direction:column;overflow:hidden;}

/* ‚Äî top chrome bar ‚Äî */
.tr-chrome{position:relative;z-index:5;display:flex;align-items:stretch;height:42px;overflow:hidden;}
.tr-chrome-left{flex:1;display:flex;align-items:center;padding:0 14px;gap:8px;}
.tr-chrome-logo{font-family:'Orbitron',sans-serif;font-size:0.56rem;font-weight:900;letter-spacing:3px;}
.tr-chrome-season{font-size:0.46rem;letter-spacing:3px;opacity:0.45;}
.tr-chrome-right{display:flex;align-items:center;padding:0 14px;}
.tr-window-tag{font-family:'Orbitron',sans-serif;font-size:0.42rem;font-weight:700;letter-spacing:3px;padding:4px 10px;border-radius:3px;text-transform:uppercase;}

/* ‚Äî player photo ‚Äî full height section ‚Äî */
.tr-photo-section{position:relative;z-index:2;flex:1;overflow:hidden;display:flex;align-items:flex-end;}
.tr-photo-section img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;object-position:top center;}
.tr-photo-placeholder{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-size:6rem;opacity:0.1;}
/* number watermark behind player */
.tr-bg-number{position:absolute;right:-5px;bottom:-20px;font-family:'Bebas Neue',sans-serif;font-size:11rem;line-height:1;opacity:0.07;z-index:1;letter-spacing:-6px;pointer-events:none;}
/* gradient fading into bottom panel */
.tr-photo-fade{position:absolute;bottom:0;left:0;right:0;height:55%;z-index:3;pointer-events:none;}
/* player name floats over photo */
.tr-name-over{position:absolute;bottom:0;left:0;right:0;z-index:4;padding:0 14px 10px;}
.tr-name-over-pre{font-family:'Barlow Condensed',sans-serif;font-weight:400;font-size:0.72rem;letter-spacing:8px;opacity:0.6;text-transform:uppercase;line-height:1;}
.tr-name-over-main{font-family:'Bebas Neue',sans-serif;font-size:3.4rem;letter-spacing:4px;line-height:0.88;text-transform:uppercase;}

/* ‚Äî bottom data panel ‚Äî */
.tr-data-panel{position:relative;z-index:5;padding:10px 14px 0;}

/* position + nationality row */
.tr-pos-row{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px;}
.tr-pos-pill{font-family:'Orbitron',sans-serif;font-size:0.46rem;font-weight:700;letter-spacing:3px;padding:4px 12px;border-radius:3px;}
.tr-nat-pill{font-size:0.56rem;letter-spacing:2px;opacity:0.6;font-family:'Barlow Condensed',sans-serif;font-weight:700;}

/* clubs transfer row */
.tr-move-row{display:flex;align-items:center;gap:6px;padding:9px 0;border-top:1px solid rgba(255,255,255,0.07);border-bottom:1px solid rgba(255,255,255,0.07);margin-bottom:8px;}
.tr-club-chip{flex:1;display:flex;flex-direction:column;gap:2px;}
.tr-club-chip-lbl{font-size:0.42rem;letter-spacing:3px;opacity:0.38;text-transform:uppercase;}
.tr-club-chip-name{font-family:'Bebas Neue',sans-serif;font-size:1.05rem;letter-spacing:2px;line-height:1;}
.tr-move-arrow{display:flex;flex-direction:column;align-items:center;gap:2px;padding:0 6px;flex-shrink:0;}
.tr-move-arrow-icon{font-family:'Bebas Neue',sans-serif;font-size:1.6rem;line-height:1;}
.tr-move-fee{font-family:'Orbitron',sans-serif;font-size:0.4rem;font-weight:700;letter-spacing:2px;padding:2px 7px;border-radius:2px;}

/* stats strip ‚Äî 4 data cells */
.tr-stats-strip{display:grid;grid-template-columns:repeat(4,1fr);gap:1px;background:rgba(255,255,255,0.06);border-radius:6px;overflow:hidden;margin-bottom:10px;}
.tr-stat-cell{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1px;padding:7px 2px;background:rgba(0,0,0,0.25);}
.tr-stat-val{font-family:'Bebas Neue',sans-serif;font-size:1.05rem;letter-spacing:1px;line-height:1;}
.tr-stat-lbl{font-size:0.4rem;letter-spacing:2px;opacity:0.38;text-transform:uppercase;text-align:center;}

/* type bar accent on left edge */
.tr-type-accent{position:absolute;left:0;top:0;bottom:0;width:3px;z-index:10;}

/* sidebar upload */
.tr-photo-upload-zone{border:2px dashed rgba(0,240,255,0.2);border-radius:10px;padding:14px;text-align:center;cursor:pointer;transition:all 0.2s;position:relative;overflow:hidden;margin-bottom:6px;}
.tr-photo-upload-zone:hover{border-color:rgba(0,240,255,0.5);background:rgba(0,240,255,0.04);}
.tr-photo-upload-zone input[type="file"]{position:absolute;inset:0;opacity:0;cursor:pointer;width:100%;}
.tr-photo-upload-zone .upl-icon{font-size:1.6rem;margin-bottom:3px;}
.tr-photo-upload-zone .upl-txt{font-family:'Orbitron',sans-serif;font-size:0.48rem;letter-spacing:2px;color:var(--neon);}
.tr-photo-preview-img{width:100%;height:90px;object-fit:cover;object-position:top;border-radius:7px;border:1px solid var(--ui-border);margin-top:5px;display:none;}

/* ‚îÄ‚îÄ SEMI-FINAL ‚îÄ‚îÄ */
.slide-semifinal{position:absolute;inset:0;z-index:2;display:flex;flex-direction:column;}
.ko-header{padding:16px 16px 0;z-index:2;position:relative;text-align:center;}
.ko-stage-badge{display:inline-block;font-family:'Orbitron',sans-serif;font-size:0.56rem;letter-spacing:5px;padding:5px 16px;border-radius:4px;margin-bottom:6px;}
.ko-main-title{font-family:'Bebas Neue',sans-serif;font-size:2.1rem;letter-spacing:7px;line-height:1;}
.ko-sub{font-size:0.58rem;color:rgba(255,255,255,0.36);letter-spacing:3px;margin-top:3px;}
.ko-matches-wrap{z-index:2;position:relative;padding:14px 11px 0;display:flex;flex-direction:column;gap:10px;flex:1;}
.ko-match-card{border-radius:12px;padding:13px 13px;position:relative;overflow:hidden;}
.ko-match-num{font-family:'Orbitron',sans-serif;font-size:0.44rem;letter-spacing:3px;color:rgba(255,255,255,0.32);margin-bottom:9px;}
.ko-teams-row{display:flex;align-items:center;gap:5px;}
.ko-team-blk{flex:1;display:flex;flex-direction:column;align-items:center;}
.ko-team-nm{font-family:'Bebas Neue',sans-serif;font-size:0.98rem;letter-spacing:3px;text-align:center;}
.ko-score-blk{display:flex;flex-direction:column;align-items:center;flex-shrink:0;padding:0 5px;}
.ko-score-big{font-family:'Bebas Neue',sans-serif;font-size:3rem;line-height:1;letter-spacing:-3px;}
.ko-score-label{font-size:0.46rem;letter-spacing:2px;color:rgba(255,255,255,0.28);text-transform:uppercase;}
.ko-pens{font-family:'Orbitron',sans-serif;font-size:0.48rem;letter-spacing:1px;margin-top:5px;padding:3px 10px;border-radius:3px;background:rgba(255,255,255,0.06);text-align:center;border:1px solid rgba(255,255,255,0.1);}
.ko-match-info{display:flex;justify-content:center;margin-top:7px;padding-top:7px;border-top:1px solid rgba(255,255,255,0.06);}
.ko-info-chip{font-size:0.54rem;color:rgba(255,255,255,0.3);letter-spacing:1px;}
.ko-divider-lbl{z-index:2;position:relative;text-align:center;padding:2px 0;}
.ko-divider-lbl span{font-family:'Orbitron',sans-serif;font-size:0.46rem;letter-spacing:4px;color:rgba(255,255,255,0.2);}

/* ‚îÄ‚îÄ FINAL ‚îÄ‚îÄ */
.slide-final{position:absolute;inset:0;z-index:2;display:flex;flex-direction:column;align-items:center;}
.final-bg-glow{position:absolute;width:100%;height:60%;top:15%;z-index:0;pointer-events:none;}
.final-header{position:relative;z-index:2;text-align:center;padding:16px 16px 0;width:100%;}
.final-crown{font-size:1.9rem;margin-bottom:3px;}
.final-stage-badge{display:inline-block;font-family:'Orbitron',sans-serif;font-size:0.58rem;letter-spacing:5px;padding:5px 18px;border-radius:4px;margin-bottom:5px;}
.final-title{font-family:'Bebas Neue',sans-serif;font-size:2.4rem;letter-spacing:9px;line-height:1;}
.final-subtitle{font-size:0.58rem;color:rgba(255,255,255,0.36);letter-spacing:3px;margin-top:3px;}
.final-teams{position:relative;z-index:2;display:flex;align-items:center;justify-content:center;padding:16px 8px 0;gap:3px;width:100%;}
.final-team-col{flex:1;display:flex;flex-direction:column;align-items:center;gap:5px;}
.final-team-nm{font-family:'Bebas Neue',sans-serif;font-size:0.98rem;letter-spacing:3px;text-align:center;}
.final-team-city{font-size:0.54rem;letter-spacing:2px;color:rgba(255,255,255,0.36);text-align:center;margin-top:-4px;}
.final-score-center{display:flex;flex-direction:column;align-items:center;flex-shrink:0;}
.final-score-big{font-family:'Bebas Neue',sans-serif;font-size:4.8rem;line-height:1;letter-spacing:-5px;}
.final-score-ft{font-size:0.48rem;letter-spacing:3px;color:rgba(255,255,255,0.34);text-transform:uppercase;}
.final-divider{width:80%;height:1px;margin:11px auto 0;position:relative;z-index:2;}
.final-winner-section{position:relative;z-index:2;text-align:center;padding:10px 16px 0;}
.final-winner-label{font-family:'Orbitron',sans-serif;font-size:0.46rem;letter-spacing:5px;color:rgba(255,255,255,0.34);margin-bottom:2px;}
.final-winner-name{font-family:'Bebas Neue',sans-serif;font-size:1.8rem;letter-spacing:6px;line-height:1;}
.final-pens{font-family:'Orbitron',sans-serif;font-size:0.5rem;letter-spacing:2px;padding:3px 12px;border-radius:3px;background:rgba(255,255,255,0.06);display:inline-block;margin-top:4px;border:1px solid rgba(255,255,255,0.1);}
.final-scorers{padding:9px 16px 0;position:relative;z-index:2;border-top:1px solid rgba(255,255,255,0.06);margin:9px 16px 0;width:calc(100% - 32px);}
.final-scorers-title{font-family:'Orbitron',sans-serif;font-size:0.44rem;letter-spacing:4px;margin-bottom:5px;}
.final-goal-entry{display:flex;align-items:center;gap:6px;padding:3px 0;border-bottom:1px solid rgba(255,255,255,0.04);font-size:0.76rem;}
.final-goal-entry .gname{flex:1;font-weight:700;letter-spacing:1px;}
.final-goal-entry .gtag{font-size:0.52rem;padding:2px 5px;border-radius:3px;}
.final-goal-entry .gmin{font-size:0.6rem;color:rgba(255,255,255,0.36);min-width:22px;text-align:right;}

/* ‚îÄ‚îÄ MOTM ‚îÄ‚îÄ */
.slide-motm{position:absolute;inset:0;z-index:2;display:flex;flex-direction:column;align-items:center;}
.motm-eyebrow-p{font-family:'Orbitron',sans-serif;font-size:0.52rem;letter-spacing:5px;display:flex;align-items:center;justify-content:center;gap:10px;width:100%;padding:16px 16px 0;}
.motm-eyebrow-p::before,.motm-eyebrow-p::after{content:'';width:26px;height:1px;flex-shrink:0;}
.motm-avatar-wrap{position:relative;width:108px;height:108px;margin-top:10px;flex-shrink:0;}
.motm-ring-a{position:absolute;inset:-8px;border-radius:50%;animation:spinr 3s linear infinite;}
@keyframes spinr{to{transform:rotate(360deg);}}
.motm-ring-b{position:absolute;inset:-4px;border-radius:50%;}
.motm-core-a{position:absolute;inset:0;border-radius:50%;border:2px solid rgba(0,240,255,0.4);display:flex;align-items:center;justify-content:center;font-size:3rem;z-index:1;overflow:hidden;}
.motm-player-photo{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;object-position:top center;border-radius:50%;z-index:2;}
.motm-num-badge{position:absolute;bottom:-2px;right:-2px;z-index:3;width:28px;height:28px;border-radius:50%;font-family:'Orbitron',sans-serif;font-size:0.68rem;font-weight:900;display:flex;align-items:center;justify-content:center;border:2px solid;}
.motm-name-p{font-family:'Bebas Neue',sans-serif;font-size:1.85rem;letter-spacing:5px;line-height:1;margin-top:8px;text-align:center;}
.motm-pos-chip{font-family:'Orbitron',sans-serif;font-size:0.48rem;letter-spacing:3px;padding:4px 12px;border-radius:4px;margin-top:4px;}
.motm-match-ref{font-size:0.56rem;color:rgba(255,255,255,0.36);letter-spacing:2px;margin-top:3px;}
.motm-stats-p{display:grid;grid-template-columns:repeat(3,1fr);gap:5px;padding:9px 11px 0;width:100%;}
.motm-sc{border-radius:7px;padding:7px 4px;text-align:center;}
.motm-sc .sv{font-family:'Bebas Neue',sans-serif;font-size:1.4rem;line-height:1;}
.motm-sc .sl{font-size:0.48rem;letter-spacing:1.5px;color:rgba(255,255,255,0.4);text-transform:uppercase;margin-top:2px;}
.motm-rating-p{width:100%;padding:8px 11px 0;}
.motm-rating-top{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:4px;}
.motm-rating-lbl{font-family:'Orbitron',sans-serif;font-size:0.48rem;letter-spacing:3px;color:rgba(255,255,255,0.36);}
.motm-rating-val{font-family:'Bebas Neue',sans-serif;font-size:1.4rem;line-height:1;}
.motm-rtrack{height:4px;border-radius:2px;background:rgba(255,255,255,0.07);overflow:hidden;}
.motm-rfill{height:100%;border-radius:2px;}
.motm-stars{font-size:0.95rem;letter-spacing:4px;margin-top:6px;}

/* ‚îÄ‚îÄ STARTING 6 ‚îÄ‚îÄ */
.slide-starting6{position:absolute;inset:0;z-index:2;display:flex;flex-direction:column;}
.s6-header{padding:16px 16px 0;z-index:2;position:relative;text-align:center;}
.s6-eyebrow{font-family:'Orbitron',sans-serif;font-size:0.52rem;letter-spacing:5px;display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:4px;}
.s6-eyebrow::before,.s6-eyebrow::after{content:'';flex:1;height:1px;}
.s6-title{font-family:'Bebas Neue',sans-serif;font-size:2.4rem;letter-spacing:8px;line-height:1;}
.s6-subtitle{font-size:0.58rem;color:rgba(255,255,255,0.36);letter-spacing:3px;margin-top:2px;}
.s6-grid-preview{display:grid;grid-template-columns:repeat(3,1fr);gap:6px;padding:12px 12px 0;z-index:2;position:relative;flex:1;}
.s6-player-card{border-radius:10px;padding:10px 6px 8px;display:flex;flex-direction:column;align-items:center;gap:6px;position:relative;overflow:hidden;}
.s6-player-card::after{content:'';position:absolute;bottom:0;left:0;right:0;height:2px;}
.s6-photo-circle{width:52px;height:52px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.6rem;flex-shrink:0;overflow:hidden;border:2px solid;}
.s6-photo-circle img{width:100%;height:100%;object-fit:cover;object-position:top center;}
.s6-jersey-num{font-family:'Bebas Neue',sans-serif;font-size:1.1rem;line-height:1;}
.s6-player-name{font-family:'Barlow Condensed',sans-serif;font-weight:700;font-size:0.72rem;letter-spacing:1.5px;text-align:center;text-transform:uppercase;line-height:1.1;}
.s6-player-pos{font-size:0.5rem;letter-spacing:1.5px;text-align:center;color:rgba(255,255,255,0.38);}
.dl-hint{font-size:0.62rem;color:var(--ui-muted);letter-spacing:1px;text-align:center;}
</style>
</head>
<body>

<!-- TOP BAR -->
<div class="topbar">
  <div class="topbar-logo">‚ö° FOOTPACK</div>
  <div class="topbar-tabs">
    <button class="tab-btn active" onclick="switchSlide('result')">R√©sultat</button>
    <button class="tab-btn" onclick="switchSlide('standings')">Classement</button>
    <button class="tab-btn" onclick="switchSlide('fixtures')">Fixtures</button>
    <button class="tab-btn" onclick="switchSlide('semifinal')">Demi-Finale</button>
    <button class="tab-btn" onclick="switchSlide('final')">Finale</button>
    <button class="tab-btn" onclick="switchSlide('motm')">M.O.T.M</button>
    <button class="tab-btn" onclick="switchSlide('starting6')">Starting 6</button>
    <button class="tab-btn" onclick="switchSlide('transfer')">Mercato</button>
  </div>
  <button class="btn-play" id="btn-play" onclick="playAnimation()">‚ñ∂ ANIMER</button>
  <button class="btn-download" onclick="downloadImage()">‚¨á T√âL√âCHARGER</button>
</div>

<div class="main">
<!-- ‚ïê‚ïê‚ïê SIDEBAR ‚ïê‚ïê‚ïê -->
<div class="sidebar" id="sidebar">

  <!-- FORMAT -->
  <div class="section-label">Format</div>
  <div class="format-toggle">
    <div class="fmt-btn active" id="fmt-story" onclick="setFormat('story')"><span class="fmt-icon">üì±</span>STORY<br><span style="font-size:0.4rem;opacity:0.6">9:16</span></div>
    <div class="fmt-btn" id="fmt-post" onclick="setFormat('post')"><span class="fmt-icon">‚¨õ</span>POST<br><span style="font-size:0.4rem;opacity:0.6">1:1</span></div>
  </div>

  <!-- BACKGROUND -->
  <div class="section-label">Arri√®re-plan</div>
  <div class="bg-mode-toggle">
    <div class="bg-mode-btn active" id="bgmode-color" onclick="setBgMode('color')">üé® Couleurs</div>
    <div class="bg-mode-btn" id="bgmode-image" onclick="setBgMode('image')">üñºÔ∏è Image</div>
  </div>

  <!-- COLOR BG PANEL -->
  <div id="bg-color-panel">
    <div class="color-row">
      <div class="color-field"><label>Neon</label><input type="color" id="c-neon" value="#00F0FF" oninput="applyColors()"></div>
      <div class="color-field"><label>Fond 1</label><input type="color" id="c-bg" value="#020B18" oninput="applyColors()"></div>
      <div class="color-field"><label>Fond 2</label><input type="color" id="c-bg2" value="#071428" oninput="applyColors()"></div>
      <div class="color-field"><label>Texte</label><input type="color" id="c-text" value="#EEF6FF" oninput="applyColors()"></div>
    </div>
  </div>

  <!-- IMAGE BG PANEL -->
  <div id="bg-image-panel" style="display:none;">
    <div class="field-row" style="margin-bottom:6px;"><label>Neon (pour textes)</label><input type="color" id="c-neon-img" value="#00F0FF" oninput="applyColors()"></div>
    <div class="img-upload-zone" onclick="document.getElementById('bg-img-input').click()">
      <div class="upload-icon">üì∏</div>
      <div class="upload-text">Choisir une image</div>
      <div class="upload-sub">JPG, PNG ‚Äî recommand√© 1080√ó1920</div>
      <input type="file" id="bg-img-input" accept="image/*" style="display:none" onchange="loadBgImage(this)">
    </div>
    <img id="bg-img-thumb" class="img-preview-thumb" alt="preview">
    <div class="img-opacity-row">
      <label>Overlay sombre</label>
      <input type="range" id="bg-overlay-opacity" min="0" max="90" value="55" oninput="updateBgOverlay()">
      <div class="opval" id="overlay-val">55%</div>
    </div>
  </div>

  <!-- RESULT CTRL -->
  <div id="ctrl-result">
    <div class="section-label">Tournoi</div>
    <div class="field-row"><label>Nom</label><input type="text" id="r-tourn" value="LIGUE DES CHAMPIONS" oninput="updateResult()"></div>
    <div class="two-col">
      <div class="field-row"><label>Journ√©e</label><input type="text" id="r-round" value="JOURN√âE 3 ¬∑ GROUPE A" oninput="updateResult()"></div>
      <div class="field-row"><label>Date</label><input type="text" id="r-date" value="24 F√âVR. 2026" oninput="updateResult()"></div>
    </div>
    <div class="field-row"><label>Stade</label><input type="text" id="r-venue" value="Stade Principal" oninput="updateResult()"></div>
    <div class="section-label">Score</div>
    <div class="two-col">
      <div class="field-row"><label>√âquipe A</label><input type="text" id="r-team1" value="ATLAS FC" oninput="updateResult()"></div>
      <div class="field-row"><label>Ville A</label><input type="text" id="r-city1" value="MARRAKECH" oninput="updateResult()"></div>
    </div>
    <div class="score-row">
      <div class="field-row"><label>Score A</label><input type="number" id="r-s1" value="3" min="0" max="99" oninput="updateResult()"></div>
      <div class="score-sep-lbl">‚Äì</div>
      <div class="field-row"><label>Score B</label><input type="number" id="r-s2" value="1" min="0" max="99" oninput="updateResult()"></div>
    </div>
    <div class="two-col">
      <div class="field-row"><label>√âquipe B</label><input type="text" id="r-team2" value="WOLVES SC" oninput="updateResult()"></div>
      <div class="field-row"><label>Ville B</label><input type="text" id="r-city2" value="CASABLANCA" oninput="updateResult()"></div>
    </div>
    <div class="section-label">Stats match</div>
    <div class="two-col">
      <div class="field-row"><label>Possession</label><input type="text" id="r-poss" value="62%" oninput="setText('p-poss',this.value)"></div>
      <div class="field-row"><label>Tirs</label><input type="text" id="r-shots" value="14" oninput="setText('p-shots',this.value)"></div>
      <div class="field-row"><label>Corners</label><input type="text" id="r-corners" value="5" oninput="setText('p-corners',this.value)"></div>
      <div class="field-row"><label>Cartons</label><input type="text" id="r-cards" value="2" oninput="setText('p-cards',this.value)"></div>
    </div>
    <div class="section-label">Buteurs</div>
    <div class="scorer-list" id="scorers-list"></div>
    <button class="btn-add" onclick="addScorer()">+ Ajouter buteur</button>
  </div>

  <!-- STANDINGS CTRL -->
  <div id="ctrl-standings" style="display:none">
    <div class="section-label">En-t√™te</div>
    <div class="two-col">
      <div class="field-row"><label>Groupe</label><input type="text" id="std-group" value="GROUPE A" oninput="updateStandings()"></div>
      <div class="field-row"><label>Journ√©e</label><input type="text" id="std-round" value="JOURN√âE 3" oninput="updateStandings()"></div>
    </div>
    <div class="field-row"><label>Sous-titre</label><input type="text" id="std-sub" value="FOOTBALL ¬∑ SAISON 2025‚Äì26" oninput="updateStandings()"></div>
    <div class="section-label">3 √âquipes ¬∑ MJ G N P PTS Zone</div>
    <div id="std-rows-edit"></div>
  </div>

  <!-- FIXTURES CTRL -->
  <div id="ctrl-fixtures" style="display:none">
    <div class="section-label">En-t√™te</div>
    <div class="two-col">
      <div class="field-row"><label>Journ√©e</label><input type="text" id="fx-matchday" value="JOURN√âE 3" oninput="updateFixtures()"></div>
      <div class="field-row"><label>P√©riode</label><input type="text" id="fx-period" value="28 F√âV ‚Äì 2 MARS" oninput="updateFixtures()"></div>
    </div>
    <div class="section-label">Matchs du groupe</div>
    <div id="fix-matches-list"></div>
  </div>

  <!-- SEMI CTRL -->
  <div id="ctrl-semifinal" style="display:none">
    <div class="section-label">En-t√™te</div>
    <div class="field-row"><label>Tournoi</label><input type="text" id="sf-tourn" value="LIGUE DES CHAMPIONS" oninput="updateSemiFinal()"></div>
    <div class="two-col">
      <div class="field-row"><label>Date</label><input type="text" id="sf-date" value="5 MARS 2026" oninput="updateSemiFinal()"></div>
      <div class="field-row"><label>Stade</label><input type="text" id="sf-venue" value="Stade Principal" oninput="updateSemiFinal()"></div>
    </div>
    <div class="section-label">Demi-Finale 1</div>
    <div class="two-col">
      <div class="field-row"><label>√âquipe A</label><input type="text" id="sf1-t1" value="ATLAS FC" oninput="updateSemiFinal()"></div>
      <div class="field-row"><label>√âquipe B</label><input type="text" id="sf1-t2" value="HAWKS" oninput="updateSemiFinal()"></div>
    </div>
    <div class="score-row">
      <div class="field-row"><label>Score A</label><input type="number" id="sf1-s1" value="2" min="0" oninput="updateSemiFinal()"></div>
      <div class="score-sep-lbl">‚Äì</div>
      <div class="field-row"><label>Score B</label><input type="number" id="sf1-s2" value="1" min="0" oninput="updateSemiFinal()"></div>
    </div>
    <div class="field-row"><label>TAB / AET (optionnel)</label><input type="text" id="sf1-pens" value="" placeholder="ex: TAB 4‚Äì3" oninput="updateSemiFinal()"></div>
    <div class="section-label">Demi-Finale 2</div>
    <div class="two-col">
      <div class="field-row"><label>√âquipe A</label><input type="text" id="sf2-t1" value="WOLVES SC" oninput="updateSemiFinal()"></div>
      <div class="field-row"><label>√âquipe B</label><input type="text" id="sf2-t2" value="TIGERS" oninput="updateSemiFinal()"></div>
    </div>
    <div class="score-row">
      <div class="field-row"><label>Score A</label><input type="number" id="sf2-s1" value="0" min="0" oninput="updateSemiFinal()"></div>
      <div class="score-sep-lbl">‚Äì</div>
      <div class="field-row"><label>Score B</label><input type="number" id="sf2-s2" value="0" min="0" oninput="updateSemiFinal()"></div>
    </div>
    <div class="field-row"><label>TAB / AET (optionnel)</label><input type="text" id="sf2-pens" value="TAB 5‚Äì4" placeholder="ex: TAB 5‚Äì4" oninput="updateSemiFinal()"></div>
  </div>

  <!-- FINAL CTRL -->
  <div id="ctrl-final" style="display:none">
    <div class="section-label">En-t√™te</div>
    <div class="field-row"><label>Tournoi</label><input type="text" id="fn-tourn" value="LIGUE DES CHAMPIONS" oninput="updateFinal()"></div>
    <div class="two-col">
      <div class="field-row"><label>Date</label><input type="text" id="fn-date" value="8 MARS 2026" oninput="updateFinal()"></div>
      <div class="field-row"><label>Stade</label><input type="text" id="fn-venue" value="Stade National" oninput="updateFinal()"></div>
    </div>
    <div class="section-label">Score</div>
    <div class="two-col">
      <div class="field-row"><label>√âquipe A</label><input type="text" id="fn-t1" value="ATLAS FC" oninput="updateFinal()"></div>
      <div class="field-row"><label>Ville A</label><input type="text" id="fn-city1" value="MARRAKECH" oninput="updateFinal()"></div>
    </div>
    <div class="score-row">
      <div class="field-row"><label>Score A</label><input type="number" id="fn-s1" value="2" min="0" oninput="updateFinal()"></div>
      <div class="score-sep-lbl">‚Äì</div>
      <div class="field-row"><label>Score B</label><input type="number" id="fn-s2" value="1" min="0" oninput="updateFinal()"></div>
    </div>
    <div class="two-col">
      <div class="field-row"><label>√âquipe B</label><input type="text" id="fn-t2" value="WOLVES SC" oninput="updateFinal()"></div>
      <div class="field-row"><label>Ville B</label><input type="text" id="fn-city2" value="CASABLANCA" oninput="updateFinal()"></div>
    </div>
    <div class="field-row"><label>TAB / AET (optionnel)</label><input type="text" id="fn-pens" value="" placeholder="ex: TAB 5‚Äì3" oninput="updateFinal()"></div>
    <div class="section-label">üèÜ Champion</div>
    <div class="field-row"><label>Vainqueur</label><input type="text" id="fn-winner" value="ATLAS FC" oninput="updateFinal()"></div>
    <div class="section-label">Buteurs</div>
    <div class="scorer-list" id="final-scorers-list"></div>
    <button class="btn-add" onclick="addFinalScorer()">+ Ajouter buteur</button>
  </div>

  <!-- MOTM CTRL -->
  <div id="ctrl-motm" style="display:none">
    <div class="section-label">Photo du joueur</div>
    <div class="motm-photo-zone" onclick="document.getElementById('motm-photo-inp').click()">
      <div class="ph-icon">üì∑</div>
      <img id="motm-photo-preview-thumb" class="motm-player-photo" style="display:none;position:absolute;inset:0;width:100%;height:100%;object-fit:cover;object-position:top;border-radius:50%;" alt="">
      <input type="file" id="motm-photo-inp" accept="image/*" style="display:none" onchange="loadMOTMPhoto(this)">
    </div>
    <div class="motm-photo-hint">Cliquer pour changer la photo</div>
    <div class="section-label">Joueur</div>
    <div class="field-row"><label>Nom</label><input type="text" id="m-name" value="K. HASSAN" oninput="updateMOTM()"></div>
    <div class="two-col">
      <div class="field-row"><label>Poste</label><input type="text" id="m-pos" value="ATTAQUANT" oninput="updateMOTM()"></div>
      <div class="field-row"><label>Num√©ro</label><input type="number" id="m-num" value="10" min="1" max="99" oninput="updateMOTM()"></div>
    </div>
    <div class="field-row"><label>√âquipe</label><input type="text" id="m-team" value="ATLAS FC" oninput="updateMOTM()"></div>
    <div class="field-row"><label>R√©f√©rence match</label><input type="text" id="m-matchref" value="vs WOLVES SC ¬∑ 3‚Äì1 ¬∑ J3" oninput="updateMOTM()"></div>
    <div class="section-label">Statistiques</div>
    <div class="motm-stats-grid-edit" id="motm-stats-edit"></div>
    <div class="section-label">Rating</div>
    <div class="rating-slider-wrap">
      <input type="range" id="m-rating" min="5" max="10" step="0.1" value="9.4" oninput="updateMOTM()">
      <div class="rating-val-lbl" id="rating-display">9.4</div>
    </div>
  </div>

  <!-- STARTING 6 CTRL -->
  <div id="ctrl-starting6" style="display:none">
    <div class="section-label">En-t√™te</div>
    <div class="field-row"><label>Nom de l'√©quipe</label><input type="text" id="s6-team" value="ATLAS FC" oninput="updateStarting6()"></div>
    <div class="two-col">
      <div class="field-row"><label>Match</label><input type="text" id="s6-match" value="vs WOLVES SC" oninput="updateStarting6()"></div>
      <div class="field-row"><label>Date</label><input type="text" id="s6-date" value="24 F√âVR. 2026" oninput="updateStarting6()"></div>
    </div>
    <div class="section-label">6 Joueurs</div>
    <div class="s6-grid-edit" id="s6-players-edit"></div>
  </div>

  <!-- TRANSFER CTRL -->
  <div id="ctrl-transfer" style="display:none">
    <div class="section-label">Type de mouvement</div>
    <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:5px;margin-bottom:2px;">
      <div class="bg-mode-btn active" id="tr-btn-in"   onclick="setTransferType('in')"   style="font-size:0.42rem;padding:6px 2px;">üì• ARRIV√âE</div>
      <div class="bg-mode-btn"        id="tr-btn-out"  onclick="setTransferType('out')"  style="font-size:0.42rem;padding:6px 2px;">üì§ D√âPART</div>
      <div class="bg-mode-btn"        id="tr-btn-loan" onclick="setTransferType('loan')" style="font-size:0.42rem;padding:6px 2px;">üîÑ PR√äT</div>
    </div>
    <div class="section-label">Tournoi</div>
    <div class="two-col">
      <div class="field-row"><label>Nom tournoi</label><input type="text" id="tr-league" value="LIGUE DES CHAMPIONS" oninput="renderTransfer()"></div>
      <div class="field-row"><label>Saison</label><input type="text" id="tr-season" value="2025‚Äì26" oninput="renderTransfer()"></div>
    </div>
    <div class="section-label">Photo du joueur</div>
    <div class="tr-photo-upload-zone" onclick="document.getElementById('tr-photo-inp').click()">
      <div class="upl-icon">üì∏</div>
      <div class="upl-txt">Photo full body</div>
      <input type="file" id="tr-photo-inp" accept="image/*" style="display:none" onchange="loadTransferPhoto(this)">
    </div>
    <img id="tr-photo-preview-img" class="tr-photo-preview-img" alt="">
    <div class="section-label">Joueur</div>
    <div class="two-col">
      <div class="field-row"><label>Pr√©nom</label><input type="text" id="tr-firstname" value="KARIM" oninput="renderTransfer()"></div>
      <div class="field-row"><label>Nom</label><input type="text" id="tr-lastname" value="HASSAN" oninput="renderTransfer()"></div>
    </div>
    <div class="two-col">
      <div class="field-row"><label>Poste</label><input type="text" id="tr-pos" value="ATTAQUANT" oninput="renderTransfer()"></div>
      <div class="field-row"><label>Num√©ro</label><input type="text" id="tr-num" value="10" oninput="renderTransfer()"></div>
    </div>
    <div class="two-col">
      <div class="field-row"><label>Nationalit√©</label><input type="text" id="tr-nation" value="üá≤üá¶ MAROC" oninput="renderTransfer()"></div>
      <div class="field-row"><label>√Çge</label><input type="text" id="tr-age" value="24" oninput="renderTransfer()"></div>
    </div>
    <div class="section-label">Mouvement</div>
    <div class="field-row"><label>Club d√©part</label><input type="text" id="tr-from" value="HAWKS FC" oninput="renderTransfer()"></div>
    <div class="field-row"><label>Club arriv√©e</label><input type="text" id="tr-to" value="ATLAS FC" oninput="renderTransfer()"></div>
    <div class="two-col">
      <div class="field-row"><label>Montant</label><input type="text" id="tr-fee" value="2.5M ‚Ç¨" oninput="renderTransfer()"></div>
      <div class="field-row"><label>Contrat</label><input type="text" id="tr-duration" value="3 ANS" oninput="renderTransfer()"></div>
    </div>
    <div class="section-label">Stats joueur (4 cases)</div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:5px;" id="tr-stats-edit"></div>
  </div>

  <div class="section-label">Filigrane</div>
  <div class="field-row"><label>Watermark</label><input type="text" id="watermark-text" value="@TOURNAMENT ¬∑ 2025‚Äì26" oninput="updateWatermark()"></div>

</div><!-- /sidebar -->

<!-- ‚ïê‚ïê‚ïê CANVAS ‚ïê‚ïê‚ïê -->
<div class="canvas-area">
  <div class="preview-wrapper">
    <div class="preview-label" id="format-label">üì± STORY ¬∑ 9:16</div>
    <div id="preview-frame" class="story-format">
      <div class="pf-bg" id="pf-bg"></div>
      <div class="pf-bg-img" id="pf-bg-img" style="opacity:0;"></div>
      <div class="pf-overlay" id="pf-overlay" style="background:rgba(2,11,24,0);"></div>
      <div class="pf-noise"></div>
      <div class="pf-scanlines"></div>
      <div class="pf-corners" id="pf-corners">
        <div class="c tl"></div><div class="c tr"></div>
        <div class="c bl"></div><div class="c br"></div>
      </div>

      <!-- RESULT -->
      <div class="slide-result" id="slide-result">
        <div class="res-top">
          <div><div class="res-tourn-name" id="p-tourn">LIGUE DES CHAMPIONS</div><div class="res-round" id="p-round">‚¨° JOURN√âE 3 ¬∑ GROUPE A</div></div>
          <div class="res-ft-pill" id="p-ft-pill">FULL TIME</div>
        </div>
        <div class="res-teams">
          <div class="res-team-col"><div class="res-team-name" id="p-team1">ATLAS FC</div><div class="res-team-city" id="p-city1">MARRAKECH</div></div>
          <div class="res-score" id="p-score">3 ‚Äì 1</div>
          <div class="res-team-col"><div class="res-team-name" id="p-team2">WOLVES SC</div><div class="res-team-city" id="p-city2">CASABLANCA</div></div>
        </div>
        <div class="res-divider" id="p-divider"></div>
        <div class="res-stats">
          <div class="res-stat"><div class="rv" id="p-poss">62%</div><div class="rl">Possession</div></div>
          <div class="res-stat"><div class="rv" id="p-shots">14</div><div class="rl">Tirs</div></div>
          <div class="res-stat"><div class="rv" id="p-corners">5</div><div class="rl">Corners</div></div>
          <div class="res-stat"><div class="rv" id="p-cards">2</div><div class="rl">Cartons</div></div>
        </div>
        <div class="res-scorers"><div class="res-scorers-title" id="p-scorers-title">BUTEURS</div><div id="p-scorers-list"></div></div>
      </div>

      <!-- STANDINGS -->
      <div class="slide-standings slide-hidden" id="slide-standings">
        <div class="std-hdr-p">
          <div><div class="std-eyebrow-p" id="std-eyebrow-p">GROUPE A ¬∑ JOURN√âE 3</div><div class="std-title-p">CLASSEMENT</div><div class="std-subtitle-p" id="std-subtitle-p">FOOTBALL ¬∑ SAISON 2025‚Äì26</div></div>
          <div class="std-trophy">üèÜ</div>
        </div>
        <div class="std-col-head"><div>#</div><div>√âQUIPE</div><div>MJ</div><div>G</div><div>N</div><div>P</div><div>PTS</div></div>
        <div class="std-rows-p" id="std-rows-p"></div>
        <div class="std-legend-p">
          <div class="std-leg"><div class="lb" id="legend-q-dot"></div>Qualification</div>
          <div class="std-leg"><div class="lb" style="background:#FF3355;box-shadow:0 0 5px #FF3355;"></div>√âlimin√©</div>
        </div>
      </div>

      <!-- FIXTURES -->
      <div class="slide-fixtures slide-hidden" id="slide-fixtures">
        <div class="fix-hdr">
          <div class="fix-eyebrow-p" id="fx-eyebrow-p">JOURN√âE 3</div>
          <div class="fix-big-title">FIXTURES</div>
          <div class="fix-subtitle-p" id="fx-period-p">28 F√âV ‚Äì 2 MARS ¬∑ 2026</div>
        </div>
        <div class="fix-body-list" id="fix-body-p"></div>
      </div>

      <!-- SEMI-FINAL -->
      <div class="slide-semifinal slide-hidden" id="slide-semifinal">
        <div class="ko-header">
          <div class="ko-stage-badge" id="sf-badge-p">DEMI-FINALES</div>
          <div class="ko-main-title" id="sf-title-p">LIGUE DES CHAMPIONS</div>
          <div class="ko-sub" id="sf-sub-p">5 MARS 2026 ¬∑ STADE PRINCIPAL</div>
        </div>
        <div class="ko-matches-wrap">
          <div class="ko-match-card" id="sf1-card">
            <div class="ko-match-num">‚ö° DEMI-FINALE 1</div>
            <div class="ko-teams-row">
              <div class="ko-team-blk"><div class="ko-team-nm" id="sf1-t1-p">ATLAS FC</div></div>
              <div class="ko-score-blk"><div class="ko-score-big" id="sf1-score-p">2 ‚Äì 1</div><div class="ko-score-label">TEMPS R√âGLEMENTAIRE</div></div>
              <div class="ko-team-blk"><div class="ko-team-nm" id="sf1-t2-p">HAWKS</div></div>
            </div>
            <div class="ko-pens slide-hidden" id="sf1-pens-p"></div>
            <div class="ko-match-info"><span class="ko-info-chip" id="sf1-info-p">üèü Stade Principal</span></div>
          </div>
          <div class="ko-divider-lbl"><span>‚îÄ‚îÄ‚îÄ VS ‚îÄ‚îÄ‚îÄ</span></div>
          <div class="ko-match-card" id="sf2-card">
            <div class="ko-match-num">‚ö° DEMI-FINALE 2</div>
            <div class="ko-teams-row">
              <div class="ko-team-blk"><div class="ko-team-nm" id="sf2-t1-p">WOLVES SC</div></div>
              <div class="ko-score-blk"><div class="ko-score-big" id="sf2-score-p">0 ‚Äì 0</div><div class="ko-score-label">TEMPS R√âGLEMENTAIRE</div></div>
              <div class="ko-team-blk"><div class="ko-team-nm" id="sf2-t2-p">TIGERS</div></div>
            </div>
            <div class="ko-pens" id="sf2-pens-p">TAB 5‚Äì4</div>
            <div class="ko-match-info"><span class="ko-info-chip" id="sf2-info-p">üèü Stade Principal</span></div>
          </div>
        </div>
      </div>

      <!-- FINAL -->
      <div class="slide-final slide-hidden" id="slide-final">
        <div class="final-bg-glow" id="final-bg-glow"></div>
        <div class="final-header">
          <div class="final-crown">üèÜ</div>
          <div class="final-stage-badge" id="fn-badge-p">GRANDE FINALE</div>
          <div class="final-title" id="fn-title-p">LIGUE DES CHAMPIONS</div>
          <div class="final-subtitle" id="fn-sub-p">8 MARS 2026 ¬∑ STADE NATIONAL</div>
        </div>
        <div class="final-teams">
          <div class="final-team-col"><div class="final-team-nm" id="fn-t1-p">ATLAS FC</div><div class="final-team-city" id="fn-city1-p">MARRAKECH</div></div>
          <div class="final-score-center"><div class="final-score-big" id="fn-score-p">2 ‚Äì 1</div><div class="final-score-ft">TEMPS R√âGLEMENTAIRE</div></div>
          <div class="final-team-col"><div class="final-team-nm" id="fn-t2-p">WOLVES SC</div><div class="final-team-city" id="fn-city2-p">CASABLANCA</div></div>
        </div>
        <div class="final-divider" id="fn-divider"></div>
        <div class="final-winner-section">
          <div class="final-winner-label">üèÜ CHAMPION</div>
          <div class="final-winner-name" id="fn-winner-p">ATLAS FC</div>
          <div class="final-pens slide-hidden" id="fn-pens-p"></div>
        </div>
        <div class="final-scorers">
          <div class="final-scorers-title" id="fn-scorers-title">BUTEURS</div>
          <div id="fn-scorers-list-p"></div>
        </div>
      </div>

      <!-- MOTM -->
      <div class="slide-motm slide-hidden" id="slide-motm">
        <div class="motm-eyebrow-p" id="m-eyebrow-p">MAN OF THE MATCH</div>
        <div class="motm-avatar-wrap">
          <div class="motm-ring-a" id="motm-ring-a"></div>
          <div class="motm-ring-b" id="motm-ring-b"></div>
          <div class="motm-core-a" id="motm-core-a">üèÜ
            <img id="motm-photo-in-preview" class="motm-player-photo" alt="" style="display:none;">
          </div>
          <div class="motm-num-badge" id="motm-num-badge">10</div>
        </div>
        <div class="motm-name-p" id="motm-name-p">K. HASSAN</div>
        <div class="motm-pos-chip" id="m-pos-chip">ATTAQUANT</div>
        <div class="motm-match-ref" id="m-matchref-p">vs WOLVES SC ¬∑ 3‚Äì1</div>
        <div class="motm-stats-p" id="motm-stats-p"></div>
        <div class="motm-rating-p">
          <div class="motm-rating-top"><div class="motm-rating-lbl">MATCH RATING</div><div class="motm-rating-val" id="m-rval-p">9.4</div></div>
          <div class="motm-rtrack"><div class="motm-rfill" id="m-rfill-p" style="width:94%"></div></div>
        </div>
        <div class="motm-stars" id="m-stars-p">‚≠ê ‚≠ê ‚≠ê ‚≠ê ‚≠ê</div>
      </div>

      <!-- STARTING 6 -->
      <div class="slide-starting6 slide-hidden" id="slide-starting6">
        <div class="s6-header">
          <div class="s6-eyebrow" id="s6-eyebrow-p">ATLAS FC</div>
          <div class="s6-title">STARTING 6</div>
          <div class="s6-subtitle" id="s6-subtitle-p">vs WOLVES SC ¬∑ 24 F√âVR. 2026</div>
        </div>
        <div class="s6-grid-preview" id="s6-grid-preview"></div>
      </div>

      <!-- TRANSFER WINDOW ‚Äî OFFICIAL -->
      <div class="slide-transfer slide-hidden" id="slide-transfer">
        <!-- left type accent bar -->
        <div class="tr-type-accent" id="tr-type-accent"></div>

        <!-- top chrome -->
        <div class="tr-chrome" id="tr-chrome">
          <div class="tr-chrome-left">
            <div class="tr-chrome-logo" id="tr-chrome-logo">LIGUE DES CHAMPIONS</div>
            <div class="tr-chrome-season" id="tr-chrome-season">2025‚Äì26</div>
          </div>
          <div class="tr-chrome-right">
            <div class="tr-window-tag" id="tr-window-tag">üì• ARRIV√âE</div>
          </div>
        </div>

        <!-- player photo ‚Äî fills most of frame -->
        <div class="tr-photo-section" id="tr-photo-section">
          <div class="tr-bg-number" id="tr-bg-number">10</div>
          <div class="tr-photo-placeholder" id="tr-photo-placeholder">üë§</div>
          <img id="tr-photo-p" style="display:none;position:absolute;inset:0;width:100%;height:100%;object-fit:cover;object-position:top center;" alt="">
          <div class="tr-photo-fade" id="tr-photo-fade"></div>
          <!-- name sits over the photo fade -->
          <div class="tr-name-over">
            <div class="tr-name-over-pre" id="tr-firstname-p">KARIM</div>
            <div class="tr-name-over-main" id="tr-lastname-p">HASSAN</div>
          </div>
        </div>

        <!-- bottom data panel -->
        <div class="tr-data-panel">
          <!-- position + nationality -->
          <div class="tr-pos-row">
            <div class="tr-pos-pill" id="tr-pos-pill">ATTAQUANT ¬∑ #10</div>
            <div class="tr-nat-pill" id="tr-nat-pill">üá≤üá¶ MAROC ¬∑ 24 ANS</div>
          </div>
          <!-- club move -->
          <div class="tr-move-row">
            <div class="tr-club-chip">
              <div class="tr-club-chip-lbl">QUITTE</div>
              <div class="tr-club-chip-name" id="tr-from-p">HAWKS FC</div>
            </div>
            <div class="tr-move-arrow">
              <div class="tr-move-arrow-icon" id="tr-move-icon">‚Üí</div>
              <div class="tr-move-fee" id="tr-move-fee">2.5M ‚Ç¨</div>
            </div>
            <div class="tr-club-chip" style="text-align:right;">
              <div class="tr-club-chip-lbl">REJOINT</div>
              <div class="tr-club-chip-name" id="tr-to-p">ATLAS FC</div>
            </div>
          </div>
          <!-- 4-cell stats strip -->
          <div class="tr-stats-strip" id="tr-stats-strip-p"></div>
        </div>
      </div>

      <div class="pf-watermark" id="p-watermark">@TOURNAMENT ¬∑ 2025‚Äì26</div>
    </div>
    <div class="dl-hint">‚¨á T√âL√âCHARGER pour sauvegarder l'image en PNG haute r√©solution</div>
  </div>
</div>
</div><!-- /main -->

<script>
// ‚îÄ‚îÄ‚îÄ STATE ‚îÄ‚îÄ‚îÄ
let currentSlide='result', currentFormat='story', bgMode='color', bgImageDataUrl=null;
const SLIDES=['result','standings','fixtures','semifinal','final','motm','starting6','transfer'];

const scorers=[
  {name:'K. HASSAN',team:'A',min:23},{name:'M. DIALLO',team:'A',min:58},
  {name:'Y. MARTINEZ',team:'B',min:71},{name:'K. HASSAN',team:'A',min:89},
];
const finalScorers=[
  {name:'K. HASSAN',team:'A',min:34},{name:'M. DIALLO',team:'A',min:67},{name:'A. BELLO',team:'B',min:78},
];
const standings=[
  {name:'ATLAS FC',mj:3,g:2,n:1,p:0,pts:7,zone:'q'},
  {name:'WOLVES SC',mj:3,g:1,n:1,p:1,pts:4,zone:''},
  {name:'HAWKS',mj:3,g:0,n:0,p:3,pts:0,zone:'el'},
];
const fixtures=[
  {day:'28',mon:'F√âV',team1:'ATLAS FC',team2:'HAWKS',venue:'Stade Principal',time:'67\'',type:'live'},
  {day:'28',mon:'F√âV',team1:'WOLVES SC',team2:'ATLAS FC',venue:'Arena Nord',time:'2‚Äì1',type:'done'},
  {day:'01',mon:'MARS',team1:'HAWKS',team2:'WOLVES SC',venue:'Stade Sud',time:'17:30',type:'upcoming'},
];
const motmStats=[
  {label:'Buts',val:'2'},{label:'Passe D.',val:'1'},{label:'Tirs',val:'7'},
  {label:'Passes',val:'94%'},{label:'Dribbles',val:'5'},{label:'Distance',val:'9km'},
];
const s6Players=[
  {name:'Y. ALAMI',pos:'GB',num:'1',photo:null},
  {name:'K. HASSAN',pos:'ATT',num:'10',photo:null},
  {name:'M. DIALLO',pos:'MIL',num:'8',photo:null},
  {name:'A. BELLO',pos:'DEF',num:'5',photo:null},
  {name:'S. RAMI',pos:'MIL',num:'7',photo:null},
  {name:'O. TAZI',pos:'DEF',num:'3',photo:null},
];
// transfer state
let transferType = 'in';
let transferPhoto = null;

// ‚îÄ‚îÄ‚îÄ INIT ‚îÄ‚îÄ‚îÄ
window.onload=()=>{
  buildScorersEditor();buildFinalScorersEditor();
  buildStandingsEditor();buildFixturesEditor();buildMOTMEditor();buildS6Editor();
  buildTransferStatsEditor();
  applyColors();updateResult();updateStandings();updateFixtures();
  updateSemiFinal();updateFinal();updateMOTM();updateStarting6();renderTransfer();updateWatermark();
};

// ‚îÄ‚îÄ‚îÄ SLIDE SWITCH ‚îÄ‚îÄ‚îÄ
function switchSlide(n){
  currentSlide=n;
  document.querySelectorAll('.tab-btn').forEach((b,i)=>b.classList.toggle('active',SLIDES[i]===n));
  SLIDES.forEach(s=>{
    document.getElementById('slide-'+s).classList.toggle('slide-hidden',s!==n);
    document.getElementById('ctrl-'+s).style.display=(s===n)?'block':'none';
  });
}

// ‚îÄ‚îÄ‚îÄ FORMAT ‚îÄ‚îÄ‚îÄ
function setFormat(f){
  currentFormat=f;
  document.getElementById('preview-frame').className=f==='story'?'story-format':'post-format';
  document.getElementById('format-label').textContent=f==='story'?'üì± STORY ¬∑ 9:16':'‚¨õ POST ¬∑ 1:1';
  document.getElementById('fmt-story').classList.toggle('active',f==='story');
  document.getElementById('fmt-post').classList.toggle('active',f==='post');
}

// ‚îÄ‚îÄ‚îÄ BG MODE ‚îÄ‚îÄ‚îÄ
function setBgMode(m){
  bgMode=m;
  document.getElementById('bgmode-color').classList.toggle('active',m==='color');
  document.getElementById('bgmode-image').classList.toggle('active',m==='image');
  document.getElementById('bg-color-panel').style.display=m==='color'?'block':'none';
  document.getElementById('bg-image-panel').style.display=m==='image'?'block':'none';
  if(m==='color'){
    document.getElementById('pf-bg').style.opacity='1';
    document.getElementById('pf-bg-img').style.opacity='0';
    document.getElementById('pf-overlay').style.background='rgba(2,11,24,0)';
  } else {
    document.getElementById('pf-bg').style.opacity='0';
    if(bgImageDataUrl){
      document.getElementById('pf-bg-img').style.backgroundImage=`url('${bgImageDataUrl}')`;
      document.getElementById('pf-bg-img').style.opacity='1';
      updateBgOverlay();
    }
  }
}

function loadBgImage(input){
  const file=input.files[0];if(!file)return;
  const reader=new FileReader();
  reader.onload=e=>{
    bgImageDataUrl=e.target.result;
    document.getElementById('pf-bg-img').style.backgroundImage=`url('${bgImageDataUrl}')`;
    document.getElementById('pf-bg-img').style.opacity='1';
    document.getElementById('pf-bg').style.opacity='0';
    const thumb=document.getElementById('bg-img-thumb');
    thumb.src=bgImageDataUrl;thumb.style.display='block';
    updateBgOverlay();
  };
  reader.readAsDataURL(file);
}

function updateBgOverlay(){
  const v=document.getElementById('bg-overlay-opacity').value;
  document.getElementById('overlay-val').textContent=v+'%';
  const alpha=(v/100).toFixed(2);
  const bg=document.getElementById('c-bg')?.value||'#020B18';
  const r=parseInt(bg.slice(1,3),16),g2=parseInt(bg.slice(3,5),16),b=parseInt(bg.slice(5,7),16);
  document.getElementById('pf-overlay').style.background=`rgba(${r},${g2},${b},${alpha})`;
}

// ‚îÄ‚îÄ‚îÄ LOAD MOTM PHOTO ‚îÄ‚îÄ‚îÄ
function loadMOTMPhoto(input){
  const file=input.files[0];if(!file)return;
  const reader=new FileReader();
  reader.onload=e=>{
    const src=e.target.result;
    // Sidebar thumb
    const t=document.getElementById('motm-photo-preview-thumb');
    t.src=src;t.style.display='block';
    // Preview in frame
    const p=document.getElementById('motm-photo-in-preview');
    p.src=src;p.style.display='block';
    // Hide emoji
    document.getElementById('motm-core-a').childNodes.forEach(n=>{if(n.nodeType===3)n.textContent='';});
  };
  reader.readAsDataURL(file);
}

// ‚îÄ‚îÄ‚îÄ LOAD S6 PLAYER PHOTO ‚îÄ‚îÄ‚îÄ
function loadS6Photo(input,i){
  const file=input.files[0];if(!file)return;
  const reader=new FileReader();
  reader.onload=e=>{
    s6Players[i].photo=e.target.result;
    // update sidebar thumb
    const imgEl=input.parentElement.querySelector('img');
    if(imgEl){imgEl.src=e.target.result;imgEl.style.display='block';}
    updateStarting6();
  };
  reader.readAsDataURL(file);
}

// ‚îÄ‚îÄ‚îÄ COLORS ‚îÄ‚îÄ‚îÄ
function hexToRGB(h){return `${parseInt(h.slice(1,3),16)},${parseInt(h.slice(3,5),16)},${parseInt(h.slice(5,7),16)}`;}
function neonStyle(){
  const neonId=bgMode==='image'?'c-neon-img':'c-neon';
  const n=document.getElementById(neonId)?.value||'#00F0FF';
  const bg=document.getElementById('c-bg')?.value||'#020B18';
  const bg2=document.getElementById('c-bg2')?.value||'#071428';
  return{neon:n,bg,bg2,nr:hexToRGB(n),glow:`rgba(${hexToRGB(n)},0.3)`,soft:`rgba(${hexToRGB(n)},0.07)`};
}

function applyColors(){
  const{neon,bg,bg2,nr,glow,soft}=neonStyle();
  if(bgMode==='color'){
    document.getElementById('pf-bg').style.background=`radial-gradient(ellipse 70% 55% at 50% 35%,rgba(${hexToRGB(bg2)},0.9) 0%,${bg} 70%)`;
  }
  document.querySelectorAll('.pf-corners .c').forEach(c=>c.style.borderColor=neon);
  // result
  const pill=document.getElementById('p-ft-pill');
  pill.style.background=neon;pill.style.color=bg;pill.style.boxShadow=`0 0 12px ${glow}`;
  document.getElementById('p-tourn').style.color=neon;
  document.getElementById('p-scorers-title').style.color=neon;
  document.getElementById('p-divider').style.background=`linear-gradient(90deg,transparent,${neon},transparent)`;
  document.getElementById('p-divider').style.boxShadow=`0 0 6px ${neon}`;
  document.querySelectorAll('.rv').forEach(el=>el.style.color=neon);
  // standings
  document.getElementById('std-eyebrow-p').style.color=neon;
  document.getElementById('legend-q-dot').style.cssText=`background:${neon};box-shadow:0 0 5px ${neon};width:9px;height:9px;border-radius:2px;`;
  // fixtures
  document.getElementById('fx-eyebrow-p').style.color=neon;
  // sf
  document.getElementById('sf-badge-p').style.background=neon;
  document.getElementById('sf-badge-p').style.color=bg;
  document.getElementById('sf-badge-p').style.boxShadow=`0 0 14px ${glow}`;
  ['sf1-card','sf2-card'].forEach(id=>{
    const c=document.getElementById(id);
    c.style.background=`rgba(${nr},0.05)`;c.style.border=`1px solid rgba(${nr},0.2)`;
  });
  ['sf1-score-p','sf2-score-p'].forEach(id=>{
    const el=document.getElementById(id);el.style.color=neon;el.style.textShadow=`0 0 18px ${glow}`;
  });
  // final
  document.getElementById('fn-badge-p').style.background=neon;
  document.getElementById('fn-badge-p').style.color=bg;
  document.getElementById('fn-badge-p').style.boxShadow=`0 0 20px ${glow}`;
  document.getElementById('fn-divider').style.background=`linear-gradient(90deg,transparent,${neon},transparent)`;
  document.getElementById('fn-divider').style.boxShadow=`0 0 10px ${neon}`;
  document.getElementById('fn-score-p').style.color=neon;
  document.getElementById('fn-score-p').style.textShadow=`0 0 30px ${glow}`;
  document.getElementById('fn-winner-p').style.color=neon;
  document.getElementById('fn-winner-p').style.textShadow=`0 0 20px ${glow}`;
  document.getElementById('fn-scorers-title').style.color=neon;
  document.getElementById('final-bg-glow').style.background=`radial-gradient(ellipse 70% 60% at 50% 50%,rgba(${nr},0.14) 0%,transparent 70%)`;
  // motm
  document.getElementById('m-eyebrow-p').style.color=neon;
  document.getElementById('motm-ring-a').style.background=`conic-gradient(${neon} 0deg,rgba(${nr},0.4) 120deg,transparent 180deg,${neon} 360deg)`;
  document.getElementById('motm-ring-b').style.background=bgMode==='color'?bg:'transparent';
  document.getElementById('motm-num-badge').style.background=neon;
  document.getElementById('motm-num-badge').style.color=bg;
  document.getElementById('motm-num-badge').style.borderColor=bgMode==='color'?bg:'rgba(0,0,0,0.5)';
  document.getElementById('m-pos-chip').style.background=soft;
  document.getElementById('m-pos-chip').style.border=`1px solid rgba(${nr},0.3)`;
  document.getElementById('m-pos-chip').style.color=neon;
  document.getElementById('m-rval-p').style.color=neon;
  document.getElementById('m-rfill-p').style.background=`linear-gradient(90deg,rgba(${nr},0.6),${neon})`;
  document.querySelectorAll('.motm-sc').forEach(el=>{
    el.style.background=`rgba(${nr},0.06)`;el.style.border=`1px solid rgba(${nr},0.15)`;
  });
  document.querySelectorAll('.motm-sc .sv').forEach(el=>{el.style.color=neon;el.style.textShadow=`0 0 8px ${glow}`;});
  // s6
  document.getElementById('s6-eyebrow-p').style.color=neon;
  document.querySelectorAll('.s6-player-card').forEach(c=>{
    c.style.background=`rgba(${nr},0.06)`;c.style.border=`1px solid rgba(${nr},0.15)`;
  });
  document.querySelectorAll('.s6-player-card::after').forEach(()=>{});
  document.querySelectorAll('.s6-jersey-num').forEach(el=>el.style.color=neon);
  document.querySelectorAll('.s6-photo-circle').forEach(el=>{el.style.borderColor=`rgba(${nr},0.4)`;el.style.boxShadow=`0 0 10px rgba(${nr},0.2)`;});
  renderScorers();renderFinalScorers();updateStandings();updateFixtures();updateSemiFinal();updateStarting6();
}

// ‚îÄ‚îÄ‚îÄ RESULT ‚îÄ‚îÄ‚îÄ
function updateResult(){
  setText('p-tourn',v('r-tourn'));setText('p-round','‚¨° '+v('r-round'));
  setText('p-team1',v('r-team1'));setText('p-city1',v('r-city1'));
  setText('p-team2',v('r-team2'));setText('p-city2',v('r-city2'));
  setText('p-score',v('r-s1')+' ‚Äì '+v('r-s2'));
  renderScorers();
}
function renderScorers(){
  const{neon,nr}=neonStyle();const t1=v('r-team1')||'A',t2=v('r-team2')||'B';
  document.getElementById('p-scorers-list').innerHTML=scorers.map(s=>`
    <div class="res-goal-entry"><span>‚öΩ</span><span class="gname">${s.name}</span>
    <span class="gtag" style="background:rgba(${nr},0.1);color:${neon}">${s.team==='A'?t1.split(' ')[0]:t2.split(' ')[0]}</span>
    <span class="gmin">${s.min}'</span></div>`).join('');
}
function buildScorersEditor(){
  const l=document.getElementById('scorers-list');l.innerHTML='';
  scorers.forEach((s,i)=>{
    const r=document.createElement('div');r.className='scorer-entry';
    r.innerHTML=`<input type="text" placeholder="Nom" value="${s.name}" oninput="scorers[${i}].name=this.value;renderScorers()">
      <select onchange="scorers[${i}].team=this.value;renderScorers()"><option value="A" ${s.team==='A'?'selected':''}>A</option><option value="B" ${s.team==='B'?'selected':''}>B</option></select>
      <input type="number" placeholder="Min" value="${s.min}" min="1" max="120" oninput="scorers[${i}].min=+this.value;renderScorers()">
      <button class="btn-rm" onclick="removeScorer(${i})">√ó</button>`;
    l.appendChild(r);
  });
}
function addScorer(){scorers.push({name:'JOUEUR',team:'A',min:1});buildScorersEditor();renderScorers();}
function removeScorer(i){scorers.splice(i,1);buildScorersEditor();renderScorers();}

// ‚îÄ‚îÄ‚îÄ STANDINGS ‚îÄ‚îÄ‚îÄ
function buildStandingsEditor(){
  const c=document.getElementById('std-rows-edit');c.innerHTML='';
  standings.forEach((s,i)=>{
    const w=document.createElement('div');
    w.style.cssText='display:flex;gap:3px;align-items:center;margin-bottom:4px;';
    w.innerHTML=`<div style="display:grid;grid-template-columns:1fr 22px 22px 22px 22px 28px;gap:3px;flex:1;">
      <input type="text" value="${s.name}" style="background:rgba(0,0,0,0.4);border:1px solid var(--ui-border);border-radius:5px;color:var(--ui-text);font-size:0.72rem;padding:4px 6px;outline:none;" oninput="standings[${i}].name=this.value;updateStandings()">
      <input type="number" value="${s.mj}" min="0" max="9" style="background:rgba(0,0,0,0.4);border:1px solid var(--ui-border);border-radius:5px;color:var(--ui-text);font-size:0.72rem;padding:4px 2px;outline:none;text-align:center;" oninput="standings[${i}].mj=+this.value;updateStandings()">
      <input type="number" value="${s.g}" min="0" max="9" style="background:rgba(0,0,0,0.4);border:1px solid var(--ui-border);border-radius:5px;color:var(--ui-text);font-size:0.72rem;padding:4px 2px;outline:none;text-align:center;" oninput="standings[${i}].g=+this.value;updateStandings()">
      <input type="number" value="${s.n}" min="0" max="9" style="background:rgba(0,0,0,0.4);border:1px solid var(--ui-border);border-radius:5px;color:var(--ui-text);font-size:0.72rem;padding:4px 2px;outline:none;text-align:center;" oninput="standings[${i}].n=+this.value;updateStandings()">
      <input type="number" value="${s.p}" min="0" max="9" style="background:rgba(0,0,0,0.4);border:1px solid var(--ui-border);border-radius:5px;color:var(--ui-text);font-size:0.72rem;padding:4px 2px;outline:none;text-align:center;" oninput="standings[${i}].p=+this.value;updateStandings()">
      <input type="number" value="${s.pts}" min="0" max="99" style="background:rgba(0,0,0,0.4);border:1px solid var(--ui-border);border-radius:5px;color:var(--ui-text);font-size:0.72rem;padding:4px 2px;outline:none;text-align:center;" oninput="standings[${i}].pts=+this.value;updateStandings()">
    </div>
    <select style="background:rgba(0,0,0,0.4);border:1px solid var(--ui-border);border-radius:5px;color:var(--ui-text);font-size:0.6rem;padding:4px 2px;outline:none;cursor:pointer;" onchange="standings[${i}].zone=this.value;updateStandings()">
      <option value="" ${s.zone===''?'selected':''}>‚Äì</option>
      <option value="q" ${s.zone==='q'?'selected':''}>üîµ</option>
      <option value="el" ${s.zone==='el'?'selected':''}>üî¥</option>
    </select>`;
    c.appendChild(w);
  });
}
function updateStandings(){
  const{neon,nr}=neonStyle();
  setText('std-eyebrow-p',v('std-group')+' ¬∑ '+v('std-round'));
  setText('std-subtitle-p',v('std-sub'));
  document.getElementById('legend-q-dot').style.cssText=`background:${neon};box-shadow:0 0 5px ${neon};width:9px;height:9px;border-radius:2px;`;
  const c=document.getElementById('std-rows-p');c.innerHTML='';
  standings.forEach((s,i)=>{
    const isTop=i===0;
    const row=document.createElement('div');row.className='std-row-p'+(isTop?' top1':'');
    if(isTop)row.style.background=`linear-gradient(90deg,rgba(${nr},0.09) 0%,transparent 80%)`;
    const zc=s.zone==='q'?neon:s.zone==='el'?'#FF3355':'transparent';
    const zs=s.zone==='q'?`0 0 5px ${neon}`:s.zone==='el'?'0 0 5px #FF3355':'none';
    const pc=s.zone==='el'?'rgba(255,255,255,0.3)':isTop?neon:'rgba(255,255,255,0.62)';
    row.innerHTML=`${s.zone?`<div class="std-zone-bar" style="background:${zc};box-shadow:${zs};"></div>`:''}
      <div class="std-pos-p" style="color:${isTop?neon:'rgba(255,255,255,0.4)'}">${i+1}</div>
      <div class="std-name-p" style="color:${isTop?neon:'#EEF6FF'}">${s.name}</div>
      <div class="std-col-p">${s.mj}</div><div class="std-col-p">${s.g}</div>
      <div class="std-col-p">${s.n}</div><div class="std-col-p">${s.p}</div>
      <div class="std-pts-p" style="color:${pc}">${s.pts}</div>`;
    c.appendChild(row);
  });
}

// ‚îÄ‚îÄ‚îÄ FIXTURES ‚îÄ‚îÄ‚îÄ
function buildFixturesEditor(){
  const c=document.getElementById('fix-matches-list');c.innerHTML='';
  fixtures.forEach((f,i)=>{
    const w=document.createElement('div');
    w.style.cssText='background:rgba(0,0,0,0.2);border:1px solid var(--ui-border);border-radius:8px;padding:8px;margin-bottom:7px;display:flex;flex-direction:column;gap:4px;';
    w.innerHTML=`<div style="display:flex;gap:4px;">
      <select style="background:rgba(0,0,0,0.4);border:1px solid var(--ui-border);border-radius:6px;color:var(--ui-text);font-size:0.7rem;padding:4px;outline:none;" onchange="fixtures[${i}].type=this.value;updateFixtures()">
        <option value="live" ${f.type==='live'?'selected':''}>üî¥ LIVE</option>
        <option value="done" ${f.type==='done'?'selected':''}>‚úÖ Termin√©</option>
        <option value="upcoming" ${f.type==='upcoming'?'selected':''}>üïê √Ä venir</option>
      </select>
      <input type="text" placeholder="Heure/Score" value="${f.time}" style="background:rgba(0,0,0,0.4);border:1px solid var(--ui-border);border-radius:6px;color:var(--ui-text);font-size:0.76rem;padding:4px 6px;outline:none;flex:1;" oninput="fixtures[${i}].time=this.value;updateFixtures()">
    </div>
    <div style="display:grid;grid-template-columns:1fr 8px 1fr;gap:3px;align-items:center;">
      <input type="text" value="${f.team1}" style="background:rgba(0,0,0,0.4);border:1px solid var(--ui-border);border-radius:6px;color:var(--ui-text);font-size:0.76rem;padding:4px 6px;outline:none;" oninput="fixtures[${i}].team1=this.value;updateFixtures()">
      <div style="text-align:center;color:var(--ui-muted);font-family:'Bebas Neue',sans-serif;font-size:0.9rem;">‚Äì</div>
      <input type="text" value="${f.team2}" style="background:rgba(0,0,0,0.4);border:1px solid var(--ui-border);border-radius:6px;color:var(--ui-text);font-size:0.76rem;padding:4px 6px;outline:none;" oninput="fixtures[${i}].team2=this.value;updateFixtures()">
    </div>
    <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:3px;">
      <input type="text" value="${f.day}" style="background:rgba(0,0,0,0.4);border:1px solid var(--ui-border);border-radius:6px;color:var(--ui-text);font-size:0.76rem;padding:4px 6px;outline:none;text-align:center;" oninput="fixtures[${i}].day=this.value;updateFixtures()">
      <input type="text" value="${f.mon}" style="background:rgba(0,0,0,0.4);border:1px solid var(--ui-border);border-radius:6px;color:var(--ui-text);font-size:0.76rem;padding:4px 6px;outline:none;text-align:center;" oninput="fixtures[${i}].mon=this.value;updateFixtures()">
      <input type="text" value="${f.venue}" style="background:rgba(0,0,0,0.4);border:1px solid var(--ui-border);border-radius:6px;color:var(--ui-text);font-size:0.76rem;padding:4px 6px;outline:none;" oninput="fixtures[${i}].venue=this.value;updateFixtures()">
    </div>`;
    c.appendChild(w);
  });
}
function updateFixtures(){
  const{neon,bg,nr}=neonStyle();
  setText('fx-eyebrow-p',v('fx-matchday'));
  setText('fx-period-p',v('fx-period')+' ¬∑ 2026');
  const body=document.getElementById('fix-body-p');body.innerHTML='';
  fixtures.forEach(f=>{
    const isLive=f.type==='live',isDone=f.type==='done';
    const card=document.createElement('div');card.className='fix-card-p';
    card.style.cssText=isLive?`background:rgba(${nr},0.07);border:1px solid rgba(${nr},0.45);border-left:3px solid ${neon};`:`background:rgba(${nr},0.04);border:1px solid rgba(${nr},0.14);border-left:3px solid rgba(${nr},${isDone?'0.22':'0.1'});`;
    card.innerHTML=`<div class="fix-date-col"><div class="fd" style="color:${neon};text-shadow:0 0 8px rgba(${nr},0.4)">${f.day}</div><div class="fm">${f.mon}</div></div>
      <div class="fix-vsep"></div>
      <div class="fix-info"><div class="fix-matchup-lbl">${f.team1} vs ${f.team2}</div><div class="fix-venue-lbl">üèü ${f.venue}</div></div>
      <div style="display:flex;flex-direction:column;align-items:flex-end;gap:2px;">
        <div class="fix-time-lbl" style="color:${isLive?neon:'rgba(255,255,255,0.7)'};${isLive?`animation:blink 1.3s infinite;text-shadow:0 0 8px rgba(${nr},0.5);`:''}">${f.time}</div>
        ${isLive?`<div class="fix-live-badge" style="background:${neon};color:${bg}">LIVE</div>`:''}
      </div>`;
    body.appendChild(card);
  });
}

// ‚îÄ‚îÄ‚îÄ SEMI-FINAL ‚îÄ‚îÄ‚îÄ
function updateSemiFinal(){
  const{neon,bg,nr,glow}=neonStyle();
  setText('sf-title-p',v('sf-tourn'));
  setText('sf-sub-p',v('sf-date')+' ¬∑ '+v('sf-venue').toUpperCase());
  setText('sf1-t1-p',v('sf1-t1'));setText('sf1-t2-p',v('sf1-t2'));
  setText('sf1-score-p',v('sf1-s1')+' ‚Äì '+v('sf1-s2'));
  setText('sf2-t1-p',v('sf2-t1'));setText('sf2-t2-p',v('sf2-t2'));
  setText('sf2-score-p',v('sf2-s1')+' ‚Äì '+v('sf2-s2'));
  setText('sf1-info-p','üèü '+v('sf-venue'));setText('sf2-info-p','üèü '+v('sf-venue'));
  const p1=v('sf1-pens'),pe1=document.getElementById('sf1-pens-p');
  const p2=v('sf2-pens'),pe2=document.getElementById('sf2-pens-p');
  if(p1){pe1.classList.remove('slide-hidden');pe1.textContent=p1;pe1.style.color=neon;}else pe1.classList.add('slide-hidden');
  if(p2){pe2.classList.remove('slide-hidden');pe2.textContent=p2;pe2.style.color=neon;}else pe2.classList.add('slide-hidden');
  document.getElementById('sf-badge-p').style.background=neon;
  document.getElementById('sf-badge-p').style.color=bg;
  ['sf1-card','sf2-card'].forEach(id=>{const c=document.getElementById(id);c.style.background=`rgba(${nr},0.05)`;c.style.border=`1px solid rgba(${nr},0.2)`;});
  ['sf1-score-p','sf2-score-p'].forEach(id=>{const el=document.getElementById(id);el.style.color=neon;el.style.textShadow=`0 0 18px ${glow}`;});
}

// ‚îÄ‚îÄ‚îÄ FINAL ‚îÄ‚îÄ‚îÄ
function updateFinal(){
  const{neon,bg,nr,glow}=neonStyle();
  setText('fn-title-p',v('fn-tourn'));setText('fn-sub-p',v('fn-date')+' ¬∑ '+v('fn-venue').toUpperCase());
  setText('fn-t1-p',v('fn-t1'));setText('fn-city1-p',v('fn-city1'));
  setText('fn-t2-p',v('fn-t2'));setText('fn-city2-p',v('fn-city2'));
  setText('fn-score-p',v('fn-s1')+' ‚Äì '+v('fn-s2'));setText('fn-winner-p',v('fn-winner'));
  const pens=v('fn-pens'),pe=document.getElementById('fn-pens-p');
  if(pens){pe.classList.remove('slide-hidden');pe.textContent=pens;pe.style.color=neon;}else pe.classList.add('slide-hidden');
  document.getElementById('fn-badge-p').style.background=neon;document.getElementById('fn-badge-p').style.color=bg;
  document.getElementById('fn-divider').style.background=`linear-gradient(90deg,transparent,${neon},transparent)`;
  document.getElementById('fn-score-p').style.color=neon;document.getElementById('fn-score-p').style.textShadow=`0 0 30px ${glow}`;
  document.getElementById('fn-winner-p').style.color=neon;document.getElementById('fn-winner-p').style.textShadow=`0 0 20px ${glow}`;
  document.getElementById('fn-scorers-title').style.color=neon;
  document.getElementById('final-bg-glow').style.background=`radial-gradient(ellipse 70% 60% at 50% 50%,rgba(${nr},0.14) 0%,transparent 70%)`;
  renderFinalScorers();
}
function renderFinalScorers(){
  const{neon,nr}=neonStyle();const t1=v('fn-t1')||'A',t2=v('fn-t2')||'B';
  document.getElementById('fn-scorers-list-p').innerHTML=finalScorers.map(s=>`
    <div class="final-goal-entry"><span>‚öΩ</span><span class="gname">${s.name}</span>
    <span class="gtag" style="background:rgba(${nr},0.1);color:${neon}">${s.team==='A'?t1.split(' ')[0]:t2.split(' ')[0]}</span>
    <span class="gmin">${s.min}'</span></div>`).join('');
}
function buildFinalScorersEditor(){
  const l=document.getElementById('final-scorers-list');l.innerHTML='';
  finalScorers.forEach((s,i)=>{
    const r=document.createElement('div');r.className='scorer-entry';
    r.innerHTML=`<input type="text" placeholder="Nom" value="${s.name}" oninput="finalScorers[${i}].name=this.value;renderFinalScorers()">
      <select onchange="finalScorers[${i}].team=this.value;renderFinalScorers()"><option value="A" ${s.team==='A'?'selected':''}>A</option><option value="B" ${s.team==='B'?'selected':''}>B</option></select>
      <input type="number" placeholder="Min" value="${s.min}" min="1" max="120" oninput="finalScorers[${i}].min=+this.value;renderFinalScorers()">
      <button class="btn-rm" onclick="removeFinalScorer(${i})">√ó</button>`;
    l.appendChild(r);
  });
}
function addFinalScorer(){finalScorers.push({name:'JOUEUR',team:'A',min:1});buildFinalScorersEditor();renderFinalScorers();}
function removeFinalScorer(i){finalScorers.splice(i,1);buildFinalScorersEditor();renderFinalScorers();}

// ‚îÄ‚îÄ‚îÄ MOTM ‚îÄ‚îÄ‚îÄ
function buildMOTMEditor(){
  const c=document.getElementById('motm-stats-edit');c.innerHTML='';
  motmStats.forEach((s,i)=>{
    const w=document.createElement('div');w.className='motm-stat-edit';
    w.innerHTML=`<label>${s.label}</label><input type="text" value="${s.val}" oninput="motmStats[${i}].val=this.value;updateMOTM()">`;
    c.appendChild(w);
  });
}
function updateMOTM(){
  const{neon,bg,nr,glow,soft}=neonStyle();
  const rating=document.getElementById('m-rating').value;
  setText('motm-name-p',v('m-name'));setText('m-pos-chip',v('m-pos').toUpperCase());
  setText('m-matchref-p',v('m-matchref'));setText('motm-num-badge',v('m-num'));
  setText('m-rval-p',rating);
  document.getElementById('rating-display').textContent=rating;
  document.getElementById('m-rfill-p').style.width=((+rating/10)*100)+'%';
  setText('m-stars-p','‚≠ê '.repeat(Math.round(+rating/2)).trim());
  document.getElementById('motm-stats-p').innerHTML=motmStats.map(s=>`
    <div class="motm-sc" style="background:rgba(${nr},0.06);border:1px solid rgba(${nr},0.15);">
      <div class="sv" style="color:${neon};text-shadow:0 0 8px ${glow}">${s.val}</div>
      <div class="sl">${s.label}</div></div>`).join('');
  document.getElementById('m-eyebrow-p').style.color=neon;
  document.getElementById('motm-ring-a').style.background=`conic-gradient(${neon} 0deg,rgba(${nr},0.4) 120deg,transparent 180deg,${neon} 360deg)`;
  document.getElementById('motm-ring-b').style.background=bg;
  document.getElementById('motm-num-badge').style.background=neon;
  document.getElementById('motm-num-badge').style.color=bg;
  document.getElementById('motm-num-badge').style.borderColor=bg;
  document.getElementById('m-pos-chip').style.cssText=`background:${soft};border:1px solid rgba(${nr},0.3);color:${neon};font-family:'Orbitron',sans-serif;font-size:0.48rem;letter-spacing:3px;padding:4px 12px;border-radius:4px;margin-top:4px;`;
  document.getElementById('m-rval-p').style.color=neon;
  document.getElementById('m-rfill-p').style.background=`linear-gradient(90deg,rgba(${nr},0.6),${neon})`;
}

// ‚îÄ‚îÄ‚îÄ STARTING 6 ‚îÄ‚îÄ‚îÄ
function buildS6Editor(){
  const c=document.getElementById('s6-players-edit');c.innerHTML='';
  s6Players.forEach((p,i)=>{
    const w=document.createElement('div');w.className='s6-player-edit';
    w.innerHTML=`<div class="s6-num-lbl">JOUEUR ${i+1}</div>
      <div class="s6-player-top">
        <div class="s6-player-photo-btn" onclick="document.getElementById('s6p-inp-${i}').click()">
          <span style="font-size:0.9rem;z-index:1">üì∑</span>
          <img id="s6p-thumb-${i}" src="${p.photo||''}" style="display:${p.photo?'block':'none'};position:absolute;inset:0;width:100%;height:100%;object-fit:cover;object-position:top;border-radius:50%;" alt="">
          <input type="file" id="s6p-inp-${i}" accept="image/*" style="display:none" onchange="loadS6Photo(this,${i})">
        </div>
        <div style="flex:1;display:flex;flex-direction:column;gap:3px;">
          <input type="text" placeholder="Nom" value="${p.name}" oninput="s6Players[${i}].name=this.value;updateStarting6()">
          <input type="text" placeholder="Poste" value="${p.pos}" oninput="s6Players[${i}].pos=this.value;updateStarting6()">
        </div>
      </div>
      <input type="text" placeholder="N¬∞" value="${p.num}" oninput="s6Players[${i}].num=this.value;updateStarting6()" style="width:50px;text-align:center;">`;
    c.appendChild(w);
  });
}
function updateStarting6(){
  const{neon,nr,bg}=neonStyle();
  setText('s6-eyebrow-p',v('s6-team'));
  setText('s6-subtitle-p',v('s6-match')+' ¬∑ '+v('s6-date'));
  document.getElementById('s6-eyebrow-p').style.color=neon;
  const grid=document.getElementById('s6-grid-preview');grid.innerHTML='';
  s6Players.forEach(p=>{
    const card=document.createElement('div');card.className='s6-player-card';
    card.style.cssText=`background:rgba(${nr},0.06);border:1px solid rgba(${nr},0.18);border-radius:10px;padding:10px 6px 8px;display:flex;flex-direction:column;align-items:center;gap:6px;position:relative;overflow:hidden;`;
    // bottom line
    const line=document.createElement('div');
    line.style.cssText=`position:absolute;bottom:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,${neon},transparent);`;
    card.appendChild(line);
    // photo circle
    const circle=document.createElement('div');
    circle.className='s6-photo-circle';
    circle.style.cssText=`width:52px;height:52px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.5rem;flex-shrink:0;overflow:hidden;border:2px solid rgba(${nr},0.4);box-shadow:0 0 10px rgba(${nr},0.2);`;
    if(p.photo){
      const img=document.createElement('img');
      img.src=p.photo;img.style.cssText='width:100%;height:100%;object-fit:cover;object-position:top center;';
      circle.appendChild(img);
    }else{
      circle.textContent='üë§';
    }
    card.appendChild(circle);
    // number
    const num=document.createElement('div');
    num.className='s6-jersey-num';
    num.style.cssText=`font-family:'Bebas Neue',sans-serif;font-size:1.1rem;line-height:1;color:${neon};text-shadow:0 0 8px rgba(${nr},0.5);`;
    num.textContent='#'+p.num;
    card.appendChild(num);
    // name
    const nm=document.createElement('div');
    nm.className='s6-player-name';
    nm.style.cssText='font-family:\'Barlow Condensed\',sans-serif;font-weight:700;font-size:0.7rem;letter-spacing:1.5px;text-align:center;text-transform:uppercase;line-height:1.1;color:#EEF6FF;';
    nm.textContent=p.name;
    card.appendChild(nm);
    // pos
    const pos=document.createElement('div');
    pos.className='s6-player-pos';
    pos.style.cssText=`font-size:0.48rem;letter-spacing:1.5px;text-align:center;color:rgba(${nr},0.7);text-transform:uppercase;`;
    pos.textContent=p.pos;
    card.appendChild(pos);
    grid.appendChild(card);
  });
}

function updateWatermark(){setText('p-watermark',v('watermark-text'));}

// ‚îÄ‚îÄ‚îÄ DOWNLOAD ‚îÄ‚îÄ‚îÄ
async function downloadImage(){
  const btn=document.querySelector('.btn-download');btn.textContent='‚è≥...';btn.disabled=true;
  try{
    const frame=document.getElementById('preview-frame');
    const canvas=await html2canvas(frame,{scale:3,useCORS:true,allowTaint:true,backgroundColor:null,logging:false});
    const link=document.createElement('a');
    link.download=`FootPack_${currentSlide}_${currentFormat}_${Date.now()}.png`;
    link.href=canvas.toDataURL('image/png');link.click();
  }catch(e){alert('Erreur t√©l√©chargement');console.error(e);}
  btn.textContent='‚¨á T√âL√âCHARGER';btn.disabled=false;
}

function v(id){return document.getElementById(id)?.value||'';}
function setText(id,txt){const el=document.getElementById(id);if(el)el.textContent=txt;}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// ‚îÄ‚îÄ‚îÄ TRANSFER WINDOW ‚Äî OFFICIAL TOURNAMENT STYLE ‚îÄ‚îÄ‚îÄ
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let transferType = 'in';
let transferPhoto = null;

// default stats (editable)
const trStats = [
  {lbl:'BUTS',   val:'18'},
  {lbl:'PASSES', val:'94%'},
  {lbl:'TIRS',   val:'67'},
  {lbl:'MATCHS', val:'32'},
];

function buildTransferStatsEditor() {
  const cont = document.getElementById('tr-stats-edit');
  if (!cont) return;
  cont.innerHTML = '';
  trStats.forEach((s, i) => {
    const pair = document.createElement('div');
    pair.style.cssText = 'display:flex;flex-direction:column;gap:3px;';
    pair.innerHTML = `
      <div style="display:flex;gap:3px;">
        <input type="text" value="${s.lbl}" placeholder="Label" style="background:rgba(0,0,0,0.4);border:1px solid var(--ui-border);border-radius:5px;color:var(--ui-text);font-size:0.7rem;padding:4px 5px;outline:none;width:50%;" oninput="trStats[${i}].lbl=this.value;renderTransfer()">
        <input type="text" value="${s.val}" placeholder="Valeur" style="background:rgba(0,0,0,0.4);border:1px solid var(--ui-border);border-radius:5px;color:var(--ui-text);font-size:0.7rem;padding:4px 5px;outline:none;width:50%;" oninput="trStats[${i}].val=this.value;renderTransfer()">
      </div>`;
    cont.appendChild(pair);
  });
}

function setTransferType(type) {
  transferType = type;
  ['in','out','loan'].forEach(t => {
    const btn = document.getElementById('tr-btn-'+t);
    if (btn) btn.classList.toggle('active', t === type);
  });
  renderTransfer();
}

function loadTransferPhoto(input) {
  const file = input.files[0]; if (!file) return;
  const reader = new FileReader();
  reader.onload = e => {
    transferPhoto = e.target.result;
    const prev = document.getElementById('tr-photo-preview-img');
    if (prev) { prev.src = transferPhoto; prev.style.display = 'block'; }
    renderTransfer();
  };
  reader.readAsDataURL(file);
}

function renderTransfer() {
  const {neon, bg, nr} = neonStyle();
  const bgColor = document.getElementById('c-bg')?.value || '#020B18';
  const bgR = hexToRGB(bgColor);

  // type config
  const typeCfg = {
    in:   { color:'#22C55E', tag:'üì• ARRIV√âE',  fromLbl:'QUITTE', toLbl:'REJOINT',  arrow:'‚Üí' },
    out:  { color:'#EF4444', tag:'üì§ D√âPART',   fromLbl:'QUITTE', toLbl:'REJOINT',  arrow:'‚Üí' },
    loan: { color:'#3B82F6', tag:'üîÑ PR√äT',     fromLbl:'PR√äT√â PAR', toLbl:'VA √Ä', arrow:'‚áÜ' },
  };
  const cfg = typeCfg[transferType] || typeCfg.in;
  const col = cfg.color;
  const colR = hexToRGB(col);

  // type accent bar
  const accent = document.getElementById('tr-type-accent');
  if (accent) { accent.style.background = `linear-gradient(to bottom, ${col}, rgba(${colR},0.2))`; accent.style.boxShadow = `2px 0 12px rgba(${colR},0.4)`; }

  // chrome top bar
  const chrome = document.getElementById('tr-chrome');
  if (chrome) { chrome.style.background = `rgba(${colR},0.08)`; chrome.style.borderBottom = `1px solid rgba(${colR},0.2)`; }
  const logo = document.getElementById('tr-chrome-logo');
  if (logo) { logo.textContent = (v('tr-league') || 'LIGUE DES CHAMPIONS').toUpperCase(); logo.style.color = col; }
  const season = document.getElementById('tr-chrome-season');
  if (season) season.textContent = v('tr-season') || '2025‚Äì26';
  const wtag = document.getElementById('tr-window-tag');
  if (wtag) { wtag.textContent = cfg.tag; wtag.style.background = `rgba(${colR},0.15)`; wtag.style.border = `1px solid rgba(${colR},0.35)`; wtag.style.color = col; }

  // photo
  const photoImg = document.getElementById('tr-photo-p');
  const placeholder = document.getElementById('tr-photo-placeholder');
  if (transferPhoto) {
    if (photoImg) { photoImg.src = transferPhoto; photoImg.style.display = 'block'; }
    if (placeholder) placeholder.style.display = 'none';
  } else {
    if (photoImg) photoImg.style.display = 'none';
    if (placeholder) placeholder.style.display = 'flex';
  }

  // bg number watermark
  const bgNum = document.getElementById('tr-bg-number');
  if (bgNum) { bgNum.textContent = v('tr-num') || '10'; bgNum.style.color = col; }

  // photo fade gradient
  const fade = document.getElementById('tr-photo-fade');
  if (fade) fade.style.background = `linear-gradient(to top, ${bgColor} 0%, rgba(${bgR},0.7) 50%, transparent 100%)`;

  // name
  const fn = document.getElementById('tr-firstname-p');
  if (fn) { fn.textContent = (v('tr-firstname') || 'KARIM').toUpperCase(); fn.style.color = 'rgba(255,255,255,0.7)'; }
  const ln = document.getElementById('tr-lastname-p');
  if (ln) { ln.textContent = (v('tr-lastname') || 'HASSAN').toUpperCase(); ln.style.color = '#fff'; ln.style.textShadow = `0 2px 20px rgba(0,0,0,0.8)`; }

  // pos pill
  const posPill = document.getElementById('tr-pos-pill');
  if (posPill) {
    posPill.textContent = (v('tr-pos') || 'ATTAQUANT').toUpperCase() + ' ¬∑ #' + (v('tr-num') || '10');
    posPill.style.background = `rgba(${colR},0.12)`;
    posPill.style.border = `1px solid rgba(${colR},0.3)`;
    posPill.style.color = col;
  }
  const natPill = document.getElementById('tr-nat-pill');
  if (natPill) natPill.textContent = (v('tr-nation') || 'üá≤üá¶ MAROC') + ' ¬∑ ' + (v('tr-age') || '24') + ' ANS';

  // clubs move
  const fromLabel = document.querySelector('#slide-transfer .tr-club-chip:first-child .tr-club-chip-lbl');
  const toLabel   = document.querySelector('#slide-transfer .tr-club-chip:last-child .tr-club-chip-lbl');
  if (fromLabel) fromLabel.textContent = cfg.fromLbl;
  if (toLabel)   toLabel.textContent   = cfg.toLbl;

  const fromP = document.getElementById('tr-from-p');
  if (fromP) { fromP.textContent = (v('tr-from') || 'HAWKS FC').toUpperCase(); fromP.style.color = 'rgba(255,255,255,0.6)'; }
  const toP = document.getElementById('tr-to-p');
  if (toP) { toP.textContent = (v('tr-to') || 'ATLAS FC').toUpperCase(); toP.style.color = '#fff'; toP.style.fontWeight = 'bold'; }

  const moveIcon = document.getElementById('tr-move-icon');
  if (moveIcon) { moveIcon.textContent = cfg.arrow; moveIcon.style.color = col; moveIcon.style.textShadow = `0 0 12px rgba(${colR},0.6)`; }
  const moveFee = document.getElementById('tr-move-fee');
  if (moveFee) { moveFee.textContent = v('tr-fee') || '2.5M ‚Ç¨'; moveFee.style.background = `rgba(${colR},0.12)`; moveFee.style.border = `1px solid rgba(${colR},0.3)`; moveFee.style.color = col; }

  // duration label update ‚Äî add contrat info to fee area
  // stats strip
  const strip = document.getElementById('tr-stats-strip-p');
  if (strip) {
    // last cell = contract duration, always shown
    const cells = [
      ...trStats.map(s => ({val: s.val, lbl: s.lbl})),
    ].slice(0,4);
    // override last cell with contract duration
    if (cells.length === 4) { cells[3] = {val: v('tr-duration')||'3 ANS', lbl:'CONTRAT'}; }
    strip.innerHTML = cells.map(c => `
      <div class="tr-stat-cell">
        <div class="tr-stat-val" style="color:${col};text-shadow:0 0 8px rgba(${colR},0.4)">${c.val}</div>
        <div class="tr-stat-lbl">${c.lbl}</div>
      </div>`).join('');
  }

  // sync type buttons
  ['in','out','loan'].forEach(t => {
    const btn = document.getElementById('tr-btn-'+t);
    if (btn) btn.classList.toggle('active', t === transferType);
  });
}
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let animating = false;

// ‚îÄ‚îÄ‚îÄ core utils ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const wait = ms => new Promise(r => setTimeout(r, ms));

// Hide element instantly, then add animation class after delayMs.
// Duration controls how long before the class is removed (keeps element visible).
function reveal(el, cls, delayMs = 0, keepMs = 2000) {
  if (!el) return;
  el.style.opacity = '0';
  el.style.visibility = 'hidden';
  setTimeout(() => {
    el.style.visibility = '';
    el.style.opacity = '';
    el.classList.remove(cls);
    void el.offsetWidth; // force reflow
    el.classList.add(cls);
    setTimeout(() => el.classList.remove(cls), keepMs);
  }, delayMs);
}

// Hide a list of elements instantly (call before animation starts)
function hideAll(els) {
  els.forEach(el => {
    if (el) { el.style.opacity = '0'; el.style.visibility = 'hidden'; }
  });
}

// Smooth numeric count-up for a text element
function countUp(el, targetStr, durationMs, delayMs = 0) {
  if (!el) return;
  const isPercent = targetStr.includes('%');
  const isDash = targetStr.includes('‚Äì') || targetStr.includes('-');
  if (isDash) { // score like "3 ‚Äì 1" ‚Äî just fade in, don't count
    reveal(el, 'anim-score-pop', delayMs);
    return;
  }
  const target = parseFloat(targetStr) || 0;
  setTimeout(() => {
    const start = performance.now();
    const step = now => {
      const p = Math.min((now - start) / durationMs, 1);
      const eased = 1 - Math.pow(1 - p, 3); // ease-out cubic
      el.textContent = Math.round(eased * target) + (isPercent ? '%' : '');
      if (p < 1) requestAnimationFrame(step);
      else el.textContent = targetStr;
    };
    requestAnimationFrame(step);
  }, delayMs);
}

// ‚îÄ‚îÄ‚îÄ countdown overlay ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function showCountdown(n, cb) {
  const ov = document.createElement('div');
  ov.className = 'anim-countdown';
  ov.innerHTML = `
    <div class="anim-countdown-num" id="cd-num">${n}</div>
    <div class="anim-countdown-lbl">ANIMATION DANS...</div>
    <div class="anim-hint"><span class="anim-hint-rec"></span>LANCEZ VOTRE ENREGISTREMENT D'√âCRAN</div>`;
  document.body.appendChild(ov);
  let cur = n;
  const tick = () => {
    cur--;
    if (cur <= 0) { ov.remove(); cb(); return; }
    const el = document.getElementById('cd-num');
    if (el) {
      el.style.animation = 'none';
      el.textContent = cur;
      void el.offsetWidth;
      el.style.animation = 'countbig 1s cubic-bezier(.22,1,.36,1)';
    }
    setTimeout(tick, 1000);
  };
  setTimeout(tick, 1000);
}

// ‚îÄ‚îÄ‚îÄ entry point ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function playAnimation() {
  if (animating) return;
  showCountdown(3, () => runSlideAnimation(currentSlide));
}

async function runSlideAnimation(slide) {
  animating = true;
  const btn = document.getElementById('btn-play');
  btn.textContent = '‚èπ EN COURS'; btn.classList.add('recording');

  // Brief purple border flash to signal start
  const frame = document.getElementById('preview-frame');
  frame.style.transition = 'box-shadow 0.4s';
  frame.style.boxShadow = '0 0 0 3px #A855F7, 0 0 80px rgba(168,85,247,0.7)';
  await wait(500);
  frame.style.boxShadow = '';
  await wait(300);

  if (slide === 'result')     await animResult();
  else if (slide === 'standings') await animStandings();
  else if (slide === 'fixtures')  await animFixtures();
  else if (slide === 'semifinal') await animSemiFinal();
  else if (slide === 'final')     await animFinal();
  else if (slide === 'motm')      await animMOTM();
  else if (slide === 'starting6') await animStarting6();
  else if (slide === 'transfer')  await animTransfer();

  await wait(2000); // linger at the end before resetting button
  btn.textContent = '‚ñ∂ ANIMER'; btn.classList.remove('recording');
  animating = false;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// RESULT
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
async function animResult() {
  const g = id => document.getElementById(id);

  // 1. Hide everything
  hideAll([
    g('p-ft-pill'), g('p-tourn'), g('p-round'),
    g('p-team1'), g('p-city1'), g('p-team2'), g('p-city2'),
    g('p-score'), g('p-divider'),
    ...document.querySelectorAll('.res-stat'),
    ...document.querySelectorAll('.res-goal-entry'),
    g('p-scorers-title')
  ]);

  // 2. Slide fades in from black
  g('slide-result').style.opacity = '0';
  g('slide-result').style.transition = 'opacity 1.2s ease';
  await wait(100);
  g('slide-result').style.opacity = '1';
  await wait(600);

  // 3. Header ‚Äî tournament name + pill
  reveal(g('p-tourn'),    'anim-fade-down', 0);
  reveal(g('p-round'),    'anim-fade-down', 200);
  reveal(g('p-ft-pill'),  'anim-neon-flicker', 400);
  await wait(1000);

  // 4. Teams slide in from sides simultaneously
  reveal(g('p-team1'), 'anim-fade-right', 0);
  reveal(g('p-city1'), 'anim-fade-right', 200);
  reveal(g('p-team2'), 'anim-fade-left',  0);
  reveal(g('p-city2'), 'anim-fade-left',  200);
  await wait(800);

  // 5. Score drops dramatically from above
  reveal(g('p-score'), 'anim-score-pop', 0);
  await wait(1200);

  // 6. Divider wipes across
  reveal(g('p-divider'), 'anim-wipe', 0);
  await wait(900);

  // 7. Stats rise up one by one
  document.querySelectorAll('.res-stat').forEach((el, i) => reveal(el, 'anim-fade-up', i * 220));
  await wait(1400);

  // 8. Goal scorers cascade in
  reveal(g('p-scorers-title'), 'anim-fade-left', 0);
  document.querySelectorAll('.res-goal-entry').forEach((el, i) =>
    reveal(el, 'anim-fade-left', 200 + i * 280));

  await wait(2000);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// STANDINGS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
async function animStandings() {
  const g = id => document.getElementById(id);
  const rows = [...document.querySelectorAll('.std-row-p')];
  const legs  = [...document.querySelectorAll('.std-leg')];

  hideAll([
    g('std-eyebrow-p'),
    document.querySelector('.std-title-p'),
    g('std-subtitle-p'),
    document.querySelector('.std-trophy'),
    document.querySelector('.std-col-head'),
    ...rows, ...legs
  ]);

  // Slide in
  g('slide-standings').style.opacity = '0';
  g('slide-standings').style.transition = 'opacity 1.2s ease';
  await wait(100);
  g('slide-standings').style.opacity = '1';
  await wait(500);

  // Header group ‚Äî staggered
  reveal(g('std-eyebrow-p'),                       'anim-fade-down', 0);
  reveal(document.querySelector('.std-title-p'),    'anim-fade-down', 250);
  reveal(g('std-subtitle-p'),                       'anim-fade-down', 450);
  reveal(document.querySelector('.std-trophy'),     'anim-trophy',    600);
  await wait(1400);

  // Column headers
  reveal(document.querySelector('.std-col-head'), 'anim-fade-up', 0);
  await wait(700);

  // Team rows sweep in one by one with long stagger
  rows.forEach((el, i) => reveal(el, 'anim-slide-row', i * 380));
  await wait(rows.length * 380 + 1000);

  // Legend
  legs.forEach((el, i) => reveal(el, 'anim-fade-up', i * 250));
  await wait(1200);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// FIXTURES
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
async function animFixtures() {
  const g = id => document.getElementById(id);
  const cards = [...document.querySelectorAll('.fix-card-p')];

  hideAll([
    g('fx-eyebrow-p'),
    document.querySelector('.fix-big-title'),
    g('fx-period-p'),
    ...cards
  ]);

  g('slide-fixtures').style.opacity = '0';
  g('slide-fixtures').style.transition = 'opacity 1.2s ease';
  await wait(100);
  g('slide-fixtures').style.opacity = '1';
  await wait(500);

  // Header
  reveal(g('fx-eyebrow-p'),                       'anim-fade-down', 0);
  reveal(document.querySelector('.fix-big-title'), 'anim-fade-down', 300);
  reveal(g('fx-period-p'),                         'anim-fade-down', 550);
  await wait(1300);

  // Cards rise up with generous stagger ‚Äî cinematic cascade
  cards.forEach((el, i) => reveal(el, 'anim-card-reveal', i * 420));
  await wait(cards.length * 420 + 1200);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// SEMI-FINAL
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
async function animSemiFinal() {
  const g = id => document.getElementById(id);
  const sf1 = g('sf1-card'), sf2 = g('sf2-card');

  hideAll([
    g('sf-badge-p'), g('sf-title-p'), g('sf-sub-p'),
    sf1, g('sf1-t1-p'), g('sf1-t2-p'), g('sf1-score-p'),
    sf2, g('sf2-t1-p'), g('sf2-t2-p'), g('sf2-score-p'),
    g('sf1-pens-p'), g('sf2-pens-p')
  ]);

  g('slide-semifinal').style.opacity = '0';
  g('slide-semifinal').style.transition = 'opacity 1.2s ease';
  await wait(100);
  g('slide-semifinal').style.opacity = '1';
  await wait(400);

  // Header
  reveal(g('sf-badge-p'),  'anim-neon-flicker', 0);
  reveal(g('sf-title-p'),  'anim-fade-down',    400);
  reveal(g('sf-sub-p'),    'anim-fade-down',    700);
  await wait(1400);

  // SF1 card rises
  reveal(sf1, 'anim-card-reveal', 0);
  await wait(500);
  reveal(g('sf1-t1-p'),    'anim-fade-right', 100);
  reveal(g('sf1-t2-p'),    'anim-fade-left',  100);
  await wait(600);
  reveal(g('sf1-score-p'), 'anim-score-pop',  0);
  const p1 = g('sf1-pens-p');
  if (p1 && !p1.classList.contains('slide-hidden')) reveal(p1, 'anim-fade-up', 400);
  await wait(1400);

  // SF2 card rises
  reveal(sf2, 'anim-card-reveal', 0);
  await wait(500);
  reveal(g('sf2-t1-p'),    'anim-fade-right', 100);
  reveal(g('sf2-t2-p'),    'anim-fade-left',  100);
  await wait(600);
  reveal(g('sf2-score-p'), 'anim-score-pop',  0);
  const p2 = g('sf2-pens-p');
  if (p2 && !p2.classList.contains('slide-hidden')) reveal(p2, 'anim-fade-up', 400);
  await wait(1600);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// FINAL
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
async function animFinal() {
  const g = id => document.getElementById(id);
  const goalEntries = [...document.querySelectorAll('.final-goal-entry')];

  hideAll([
    document.querySelector('.final-crown'),
    g('fn-badge-p'), g('fn-title-p'), g('fn-sub-p'),
    g('fn-t1-p'), g('fn-city1-p'), g('fn-t2-p'), g('fn-city2-p'),
    g('fn-score-p'), g('fn-divider'),
    document.querySelector('.final-winner-label'),
    g('fn-winner-p'), g('fn-scorers-title'),
    ...goalEntries
  ]);

  // Background glow fades in slowly
  const glow = g('final-bg-glow');
  if (glow) { glow.style.opacity = '0'; glow.style.transition = 'opacity 2.5s ease'; }

  g('slide-final').style.opacity = '0';
  g('slide-final').style.transition = 'opacity 1.4s ease';
  await wait(100);
  g('slide-final').style.opacity = '1';
  if (glow) setTimeout(() => { glow.style.opacity = '1'; }, 200);
  await wait(800);

  // Crown drops theatrically
  reveal(document.querySelector('.final-crown'), 'anim-trophy', 0);
  await wait(900);

  // Badge pulses on
  reveal(g('fn-badge-p'), 'anim-neon-flicker', 0);
  await wait(700);

  // Title + subtitle
  reveal(g('fn-title-p'), 'anim-fade-down', 0);
  reveal(g('fn-sub-p'),   'anim-fade-down', 350);
  await wait(1200);

  // Teams slide in from sides
  reveal(g('fn-t1-p'),    'anim-fade-right', 0);
  reveal(g('fn-city1-p'), 'anim-fade-right', 250);
  reveal(g('fn-t2-p'),    'anim-fade-left',  0);
  reveal(g('fn-city2-p'), 'anim-fade-left',  250);
  await wait(1000);

  // Score ‚Äî the big moment
  reveal(g('fn-score-p'), 'anim-score-pop', 0);
  await wait(1400);

  // Divider wipes
  reveal(g('fn-divider'), 'anim-wipe-full', 0);
  await wait(1000);

  // Winner reveal
  reveal(document.querySelector('.final-winner-label'), 'anim-fade-up', 0);
  reveal(g('fn-winner-p'), 'anim-scale-in', 400);
  const pens = g('fn-pens-p');
  if (pens && !pens.classList.contains('slide-hidden')) reveal(pens, 'anim-fade-up', 700);
  await wait(1200);

  // Goal scorers
  reveal(g('fn-scorers-title'), 'anim-fade-left', 0);
  goalEntries.forEach((el, i) => reveal(el, 'anim-fade-left', 300 + i * 320));
  await wait(goalEntries.length * 320 + 1000);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// MAN OF THE MATCH
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
async function animMOTM() {
  const g = id => document.getElementById(id);
  const stats = [...document.querySelectorAll('.motm-sc')];
  const wrap  = document.querySelector('.motm-avatar-wrap');

  hideAll([
    g('m-eyebrow-p'), wrap,
    g('motm-name-p'), g('m-pos-chip'), g('m-matchref-p'),
    ...stats,
    document.querySelector('.motm-rating-p'),
    g('m-stars-p')
  ]);

  g('slide-motm').style.opacity = '0';
  g('slide-motm').style.transition = 'opacity 1.2s ease';
  await wait(100);
  g('slide-motm').style.opacity = '1';
  await wait(500);

  // Eyebrow
  reveal(g('m-eyebrow-p'), 'anim-fade-down', 0);
  await wait(700);

  // Avatar ‚Äî the centrepiece
  reveal(wrap, 'anim-scale-in', 0);
  await wait(1200);

  // Name + position
  reveal(g('motm-name-p'),   'anim-fade-up', 0);
  reveal(g('m-pos-chip'),    'anim-fade-up', 300);
  reveal(g('m-matchref-p'),  'anim-fade-up', 550);
  await wait(1200);

  // Stats cascade in pairs
  stats.forEach((el, i) => reveal(el, 'anim-card-reveal', i * 220));
  await wait(stats.length * 220 + 800);

  // Rating bar animates
  const rfill = g('m-rfill-p');
  const ratingWrap = document.querySelector('.motm-rating-p');
  reveal(ratingWrap, 'anim-fade-up', 0);
  if (rfill) {
    const targetW = rfill.style.width || '94%';
    rfill.style.width = '0%';
    rfill.style.transition = 'none';
    setTimeout(() => {
      rfill.style.transition = 'width 1.8s cubic-bezier(.16,1,.3,1)';
      rfill.style.width = targetW;
    }, 400);
  }
  await wait(1000);

  // Stars
  reveal(g('m-stars-p'), 'anim-fade-up', 0);
  await wait(1500);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// STARTING 6
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
async function animStarting6() {
  const g = id => document.getElementById(id);
  const slide = g('slide-starting6');
  if (!slide) return;
  const cards = [...document.querySelectorAll('.s6-player-card')];

  hideAll([
    g('s6-eyebrow-p'),
    document.querySelector('.s6-title'),
    g('s6-subtitle-p'),
    ...cards
  ]);

  slide.style.opacity = '0';
  slide.style.transition = 'opacity 1.2s ease';
  await wait(100);
  slide.style.opacity = '1';
  await wait(500);

  // Header
  reveal(g('s6-eyebrow-p'),                    'anim-fade-down', 0);
  reveal(document.querySelector('.s6-title'),  'anim-fade-down', 300);
  reveal(g('s6-subtitle-p'),                   'anim-fade-down', 550);
  await wait(1200);

  // Cards ‚Äî slow cascade, left column then right column interleaved
  cards.forEach((el, i) => reveal(el, 'anim-card-reveal', i * 350));
  await wait(cards.length * 350 + 1200);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// TRANSFER WINDOW ‚Äî OFFICIAL
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
async function animTransfer() {
  const g = id => document.getElementById(id);

  hideAll([
    g('tr-chrome'), g('tr-window-tag'),
    g('tr-photo-section'),
    g('tr-firstname-p'), g('tr-lastname-p'),
    g('tr-pos-pill'), g('tr-nat-pill'),
    g('tr-move-row') || document.querySelector('#slide-transfer .tr-move-row'),
    ...document.querySelectorAll('#slide-transfer .tr-stat-cell'),
  ]);

  g('slide-transfer').style.opacity = '0';
  g('slide-transfer').style.transition = 'opacity 1.0s ease';
  await wait(100);
  g('slide-transfer').style.opacity = '1';
  await wait(400);

  // 1. Chrome top bar slides down
  reveal(g('tr-chrome'), 'anim-fade-down', 0);
  await wait(600);

  // 2. Photo section rises up ‚Äî the big reveal
  reveal(g('tr-photo-section'), 'anim-fade-up', 0);
  await wait(900);

  // 3. Firstname fades in
  reveal(g('tr-firstname-p'), 'anim-fade-up', 0);
  await wait(300);

  // 4. Lastname ‚Äî the main impact
  reveal(g('tr-lastname-p'), 'anim-score-pop', 0);
  await wait(1000);

  // 5. Position + nationality pills
  reveal(g('tr-pos-pill'),  'anim-fade-left',  0);
  reveal(g('tr-nat-pill'),  'anim-fade-right', 150);
  await wait(900);

  // 6. Club move row ‚Äî the key data
  const moveRow = document.querySelector('#slide-transfer .tr-move-row');
  reveal(moveRow, 'anim-card-reveal', 0);
  await wait(1000);

  // 7. Stats strip ‚Äî cells one by one
  document.querySelectorAll('#slide-transfer .tr-stat-cell').forEach((el, i) =>
    reveal(el, 'anim-fade-up', i * 200));
  await wait(1200);
}
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
</script>
</body>
</html>
